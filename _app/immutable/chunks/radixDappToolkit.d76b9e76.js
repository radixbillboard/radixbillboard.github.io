var zl=Object.defineProperty;var Vl=(e,t,n)=>t in e?zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yi=(e,t,n)=>(Vl(e,typeof t!="symbol"?t+"":t,n),n);import{s as Hr,q as vi,e as Et,i as un,d as nt,E as kr,F as jo,O as gi,u as Ot,H as Do,p as yr,r as vs,A as gs,B as bs,C as ws,M as bi,a6 as $l,a7 as Bl,h as xs,a8 as wi,x as bn,z as ks,D as Ss,f as Zo,g as Lo,a9 as Sr,Z as Wl}from"./scheduler.8de5dfe6.js";import{S as Fo,i as Mo,b as xi,d as Kl,m as ki,g as Uo,t as Pt,e as Si,c as zo,a as Ct}from"./index.2f036f68.js";import{w as Vo}from"./index.ff3d97e4.js";import{_ as Gl}from"./preload-helper.a4192956.js";function zn(e,t){const n={},r={},a={$$scope:1};let s=e.length;for(;s--;){const i=e[s],o=t[s];if(o){for(const c in i)c in o||(r[c]=1);for(const c in o)a[c]||(n[c]=o[c],a[c]=1);e[s]=o}else for(const c in i)a[c]=1}for(const i in r)i in n||(n[i]=void 0);return n}function dr(e){return typeof e=="object"&&e!==null?e:{}}var Aa=function(e,t){return Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Aa(e,t)};function hb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Aa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ti=function(){return Ti=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ti.apply(this,arguments)};function mb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _b(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function yb(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var vb=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Hl(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if($o(n,t))return n;n=n.parentElement}return null}function $o(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function Jl(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const gb=Object.freeze(Object.defineProperty({__proto__:null,closest:Hl,estimateScrollWidth:Jl,matches:$o},Symbol.toStringTag,{value:"Module"}));function ha(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function bb(e,t,n,r={bubbles:!0},a=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const s=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(s),a&&t.startsWith("SMUI")){const i=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(i),i.defaultPrevented&&s.preventDefault()}return s}const Ei=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,Yl=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function Bo(e){let t,n=[];e.$on=(a,s)=>{let i=a,o=()=>{};return t?o=t(i,s):n.push([i,s]),i.match(Ei)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',i),()=>{o()}};function r(a){const s=e.$$.callbacks[a.type];s&&s.slice().forEach(i=>i.call(this,a))}return a=>{const s=[],i={};t=(o,c)=>{let u=o,d=c,f=!1;const h=u.match(Ei),g=u.match(Yl),R=h||g;if(u.match(/^SMUI:\w+:/)){const S=u.split(":");let N="";for(let y=0;y<S.length;y++)N+=y===S.length-1?":"+S[y]:S[y].split("-").map(q=>q.slice(0,1).toUpperCase()+q.slice(1)).join("");console.warn(`The event ${u.split("$")[0]} has been renamed to ${N.split("$")[0]}.`),u=N}if(R){const S=u.split(h?":":"$");u=S[0];const N=S.slice(1).reduce((y,q)=>(y[q]=!0,y),{});N.passive&&(f=f||{},f.passive=!0),N.nonpassive&&(f=f||{},f.passive=!1),N.capture&&(f=f||{},f.capture=!0),N.once&&(f=f||{},f.once=!0),N.preventDefault&&(d=Xl(d)),N.stopPropagation&&(d=Ql(d)),N.stopImmediatePropagation&&(d=ed(d)),N.self&&(d=td(a,d)),N.trusted&&(d=nd(d))}const _=Oi(a,u,d,f),x=()=>{_();const S=s.indexOf(x);S>-1&&s.splice(S,1)};return s.push(x),u in i||(i[u]=Oi(a,u,r)),x};for(let o=0;o<n.length;o++)t(n[o][0],n[o][1]);return{destroy:()=>{for(let o=0;o<s.length;o++)s[o]();for(let o of Object.entries(i))o[1]()}}}}function Oi(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Xl(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Ql(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ed(e){return function(t){return t.stopImmediatePropagation(),e.call(this,t)}}function td(e,t){return function(n){if(n.target===e)return t.call(this,n)}}function nd(e){return function(t){if(t.isTrusted)return e.call(this,t)}}function Ts(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const a=t[r],s=Array.isArray(a)?a[0]:a;Array.isArray(a)&&a.length>1?n.push(s(e,a[1])):n.push(s(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let a=0;a<r.length;a++){const s=n[a];if(s&&s.update){const i=r[a];Array.isArray(i)&&i.length>1?s.update(i[1]):s.update()}}},destroy(){for(let r=0;r<n.length;r++){const a=n[r];a&&a.destroy&&a.destroy()}}}}function rd(e){let t;const n=e[10].default,r=vs(n,e,e[12],null);return{c(){r&&r.c()},l(a){r&&r.l(a)},m(a,s){r&&r.m(a,s),t=!0},p(a,s){r&&r.p&&(!t||s&4096)&&gs(r,n,a,a[12],t?ws(n,a[12],s,null):bs(a[12]),null)},i(a){t||(Ct(r,a),t=!0)},o(a){Pt(r,a),t=!1},d(a){r&&r.d(a)}}}function ad(e){let t,n,r;const a=[{tag:e[3]},{use:[e[5],...e[0]]},{class:ha({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var s=e[2];function i(o,c){let u={$$slots:{default:[rd]},$$scope:{ctx:o}};if(c!==void 0&&c&491)u=zn(a,[c&8&&{tag:o[3]},c&33&&{use:[o[5],...o[0]]},c&66&&{class:ha({[o[1]]:!0,"mdc-button__label":o[6]==="button","mdc-fab__label":o[6]==="fab","mdc-tab__text-label":o[6]==="tab","mdc-image-list__label":o[6]==="image-list","mdc-snackbar__label":o[6]==="snackbar","mdc-banner__text":o[6]==="banner","mdc-segmented-button__label":o[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":o[6]==="data-table:pagination","mdc-data-table__header-cell-label":o[6]==="data-table:sortable-header-cell"})},c&64&&dr(o[6]==="snackbar"?{"aria-atomic":"false"}:{}),c&128&&{tabindex:o[7]},c&256&&dr(o[8])]);else for(let d=0;d<a.length;d+=1)u=Ot(u,a[d]);return{props:u}}return s&&(t=vi(s,i(e)),e[11](t)),{c(){t&&xi(t.$$.fragment),n=Et()},l(o){t&&Kl(t.$$.fragment,o),n=Et()},m(o,c){t&&ki(t,o,c),un(o,n,c),r=!0},p(o,[c]){if(c&4&&s!==(s=o[2])){if(t){Uo();const u=t;Pt(u.$$.fragment,1,0,()=>{Si(u,1)}),zo()}s?(t=vi(s,i(o,c)),o[11](t),xi(t.$$.fragment),Ct(t.$$.fragment,1),ki(t,n.parentNode,n)):t=null}else if(s){const u=c&491?zn(a,[c&8&&{tag:o[3]},c&33&&{use:[o[5],...o[0]]},c&66&&{class:ha({[o[1]]:!0,"mdc-button__label":o[6]==="button","mdc-fab__label":o[6]==="fab","mdc-tab__text-label":o[6]==="tab","mdc-image-list__label":o[6]==="image-list","mdc-snackbar__label":o[6]==="snackbar","mdc-banner__text":o[6]==="banner","mdc-segmented-button__label":o[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":o[6]==="data-table:pagination","mdc-data-table__header-cell-label":o[6]==="data-table:sortable-header-cell"})},c&64&&dr(o[6]==="snackbar"?{"aria-atomic":"false"}:{}),c&128&&{tabindex:o[7]},c&256&&dr(o[8])]):{};c&4096&&(u.$$scope={dirty:c,ctx:o}),t.$set(u)}},i(o){r||(t&&Ct(t.$$.fragment,o),r=!0)},o(o){t&&Pt(t.$$.fragment,o),r=!1},d(o){o&&nt(n),e[11](null),t&&Si(t,o)}}}function sd(e,t,n){const r=["use","class","component","tag","getElement"];let a=kr(t,r),{$$slots:s={},$$scope:i}=t;const o=Bo(jo());let{use:c=[]}=t,{class:u=""}=t,d,{component:f=Pi}=t,{tag:h=f===Pi?"span":void 0}=t;const g=gi("SMUI:label:context"),R=gi("SMUI:label:tabindex");function _(){return d.getElement()}function x(S){yr[S?"unshift":"push"](()=>{d=S,n(4,d)})}return e.$$set=S=>{t=Ot(Ot({},t),Do(S)),n(8,a=kr(t,r)),"use"in S&&n(0,c=S.use),"class"in S&&n(1,u=S.class),"component"in S&&n(2,f=S.component),"tag"in S&&n(3,h=S.tag),"$$scope"in S&&n(12,i=S.$$scope)},[c,u,f,h,d,o,g,R,a,_,s,x,i]}class wb extends Fo{constructor(t){super(),Mo(this,t,sd,ad,Hr,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function id(e){let t=e[1],n,r,a=e[1]&&ma(e);return{c(){a&&a.c(),n=Et()},l(s){a&&a.l(s),n=Et()},m(s,i){a&&a.m(s,i),un(s,n,i),r=!0},p(s,i){s[1]?t?Hr(t,s[1])?(a.d(1),a=ma(s),t=s[1],a.c(),a.m(n.parentNode,n)):a.p(s,i):(a=ma(s),t=s[1],a.c(),a.m(n.parentNode,n)):t&&(a.d(1),a=null,t=s[1])},i(s){r||(Ct(a,s),r=!0)},o(s){Pt(a,s),r=!1},d(s){s&&nt(n),a&&a.d(s)}}}function od(e){let t=e[1],n,r=e[1]&&_a(e);return{c(){r&&r.c(),n=Et()},l(a){r&&r.l(a),n=Et()},m(a,s){r&&r.m(a,s),un(a,n,s)},p(a,s){a[1]?t?Hr(t,a[1])?(r.d(1),r=_a(a),t=a[1],r.c(),r.m(n.parentNode,n)):r.p(a,s):(r=_a(a),t=a[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=a[1])},i:bi,o:bi,d(a){a&&nt(n),r&&r.d(a)}}}function ud(e){let t,n,r,a,s;const i=e[8].default,o=vs(i,e,e[7],null);let c=[e[5]],u={};for(let d=0;d<c.length;d+=1)u=Ot(u,c[d]);return{c(){t=$l("svg"),o&&o.c(),this.h()},l(d){t=Bl(d,"svg",{});var f=xs(t);o&&o.l(f),f.forEach(nt),this.h()},h(){wi(t,u)},m(d,f){un(d,t,f),o&&o.m(t,null),e[9](t),r=!0,a||(s=[bn(n=Ts.call(null,t,e[0])),bn(e[4].call(null,t))],a=!0)},p(d,f){o&&o.p&&(!r||f&128)&&gs(o,i,d,d[7],r?ws(i,d[7],f,null):bs(d[7]),null),wi(t,u=zn(c,[f&32&&d[5]])),n&&ks(n.update)&&f&1&&n.update.call(null,d[0])},i(d){r||(Ct(o,d),r=!0)},o(d){Pt(o,d),r=!1},d(d){d&&nt(t),o&&o.d(d),e[9](null),a=!1,Ss(s)}}}function ma(e){let t,n,r,a,s;const i=e[8].default,o=vs(i,e,e[7],null);let c=[e[5]],u={};for(let d=0;d<c.length;d+=1)u=Ot(u,c[d]);return{c(){t=Zo(e[1]),o&&o.c(),this.h()},l(d){t=Lo(d,(e[1]||"null").toUpperCase(),{});var f=xs(t);o&&o.l(f),f.forEach(nt),this.h()},h(){Sr(e[1])(t,u)},m(d,f){un(d,t,f),o&&o.m(t,null),e[11](t),r=!0,a||(s=[bn(n=Ts.call(null,t,e[0])),bn(e[4].call(null,t))],a=!0)},p(d,f){o&&o.p&&(!r||f&128)&&gs(o,i,d,d[7],r?ws(i,d[7],f,null):bs(d[7]),null),Sr(d[1])(t,u=zn(c,[f&32&&d[5]])),n&&ks(n.update)&&f&1&&n.update.call(null,d[0])},i(d){r||(Ct(o,d),r=!0)},o(d){Pt(o,d),r=!1},d(d){d&&nt(t),o&&o.d(d),e[11](null),a=!1,Ss(s)}}}function _a(e){let t,n,r,a,s=[e[5]],i={};for(let o=0;o<s.length;o+=1)i=Ot(i,s[o]);return{c(){t=Zo(e[1]),this.h()},l(o){t=Lo(o,(e[1]||"null").toUpperCase(),{}),xs(t).forEach(nt),this.h()},h(){Sr(e[1])(t,i)},m(o,c){un(o,t,c),e[10](t),r||(a=[bn(n=Ts.call(null,t,e[0])),bn(e[4].call(null,t))],r=!0)},p(o,c){Sr(o[1])(t,i=zn(s,[c&32&&o[5]])),n&&ks(n.update)&&c&1&&n.update.call(null,o[0])},d(o){o&&nt(t),e[10](null),r=!1,Ss(a)}}}function cd(e){let t,n,r,a;const s=[ud,od,id],i=[];function o(c,u){return c[1]==="svg"?0:c[3]?1:2}return t=o(e),n=i[t]=s[t](e),{c(){n.c(),r=Et()},l(c){n.l(c),r=Et()},m(c,u){i[t].m(c,u),un(c,r,u),a=!0},p(c,[u]){let d=t;t=o(c),t===d?i[t].p(c,u):(Uo(),Pt(i[d],1,1,()=>{i[d]=null}),zo(),n=i[t],n?n.p(c,u):(n=i[t]=s[t](c),n.c()),Ct(n,1),n.m(r.parentNode,r))},i(c){a||(Ct(n),a=!0)},o(c){Pt(n),a=!1},d(c){c&&nt(r),i[t].d(c)}}}function ld(e,t,n){let r;const a=["use","tag","getElement"];let s=kr(t,a),{$$slots:i={},$$scope:o}=t,{use:c=[]}=t,{tag:u}=t;const d=Bo(jo());let f;function h(){return f}function g(x){yr[x?"unshift":"push"](()=>{f=x,n(2,f)})}function R(x){yr[x?"unshift":"push"](()=>{f=x,n(2,f)})}function _(x){yr[x?"unshift":"push"](()=>{f=x,n(2,f)})}return e.$$set=x=>{t=Ot(Ot({},t),Do(x)),n(5,s=kr(t,a)),"use"in x&&n(0,c=x.use),"tag"in x&&n(1,u=x.tag),"$$scope"in x&&n(7,o=x.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(u)>-1)},[c,u,f,r,d,s,h,o,i,g,R,_]}class Pi extends Fo{constructor(t){super(),Mo(this,t,ld,cd,Hr,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}class dd{constructor(){yi(this,"notification",Vo(null))}showNotification(t,n){this.notification.set({text:t,notificationType:n})}}const xb=new dd;var Ia=function(e,t){return Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Ia(e,t)};function rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ia(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function pd(e,t,n,r){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function Wo(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function wn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function Rt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function fd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(h){r[h]&&(a[h]=function(g){return new Promise(function(R,_){s.push([h,g,R,_])>1||o(h,g)})})}function o(h,g){try{c(r[h](g))}catch(R){f(s[0][3],R)}}function c(h){h.value instanceof vn?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){o("next",h)}function d(h){o("throw",h)}function f(h,g){h(g),s.shift(),s.length&&o(s[0][0],s[0][1])}}function hd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wn=="function"?wn(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(o,c){i=e[s](i),a(o,c,i.done,i.value)})}}function a(s,i,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},i)}}function Y(e){return typeof e=="function"}function Es(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ya=Es(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Tr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var at=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,a,s;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var o=wn(i),c=o.next();!c.done;c=o.next()){var u=c.value;u.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else i.remove(this);var d=this.initialTeardown;if(Y(d))try{d()}catch(_){s=_ instanceof ya?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=wn(f),g=h.next();!g.done;g=h.next()){var R=g.value;try{Ci(R)}catch(_){s=s??[],_ instanceof ya?s=Rt(Rt([],ft(s)),ft(_.errors)):s.push(_)}}}catch(_){r={error:_}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}if(s)throw new ya(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ci(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Tr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Tr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ko=at.EMPTY;function Go(e){return e instanceof at||e&&"closed"in e&&Y(e.remove)&&Y(e.add)&&Y(e.unsubscribe)}function Ci(e){Y(e)?e():e.unsubscribe()}var Ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},md={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Rt([e,t],ft(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Jo(e){md.setTimeout(function(){throw e})}function Na(){}function vr(e){e()}var Os=function(e){rt(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Go(n)&&n.add(r)):r.destination=gd,r}return t.create=function(n,r,a){return new Er(n,r,a)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(at),_d=Function.prototype.bind;function va(e,t){return _d.call(e,t)}var yd=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){pr(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){pr(r)}else pr(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){pr(n)}},e}(),Er=function(e){rt(t,e);function t(n,r,a){var s=e.call(this)||this,i;if(Y(n)||!n)i={next:n??void 0,error:r??void 0,complete:a??void 0};else{var o;s&&Ho.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return s.unsubscribe()},i={next:n.next&&va(n.next,o),error:n.error&&va(n.error,o),complete:n.complete&&va(n.complete,o)}):i=n}return s.destination=new yd(i),s}return t}(Os);function pr(e){Jo(e)}function vd(e){throw e}var gd={closed:!0,next:Na,error:vd,complete:Na},Ps=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cn(e){return e}function bd(e){return e.length===0?cn:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var be=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var a=this,s=xd(t)?t:new Er(t,n,r);return vr(function(){var i=a,o=i.operator,c=i.source;s.add(o?o.call(s,c):c?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Ri(n),new n(function(a,s){var i=new Er({next:function(o){try{t(o)}catch(c){s(c),i.unsubscribe()}},error:s,complete:a});r.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Ps]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return bd(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Ri(t),new t(function(r,a){var s;n.subscribe(function(i){return s=i},function(i){return a(i)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Ri(e){var t;return(t=e??Ho.Promise)!==null&&t!==void 0?t:Promise}function wd(e){return e&&Y(e.next)&&Y(e.error)&&Y(e.complete)}function xd(e){return e&&e instanceof Os||wd(e)&&Go(e)}function kd(e){return Y(e==null?void 0:e.lift)}function De(e){return function(t){if(kd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(e,t,n,r,a){return new Sd(e,t,n,r,a)}var Sd=function(e){rt(t,e);function t(n,r,a,s,i,o){var c=e.call(this,n)||this;return c.onFinalize=i,c.shouldUnsubscribe=o,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=s?function(u){try{s(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=a?function(){try{a()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Os),Td=Es(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ee=function(e){rt(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Ai(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Td},t.prototype.next=function(n){var r=this;vr(function(){var a,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var i=wn(r.currentObservers),o=i.next();!o.done;o=i.next()){var c=o.value;c.next(n)}}catch(u){a={error:u}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}}})},t.prototype.error=function(n){var r=this;vr(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var a=r.observers;a.length;)a.shift().error(n)}})},t.prototype.complete=function(){var n=this;vr(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,a=this,s=a.hasError,i=a.isStopped,o=a.observers;return s||i?Ko:(this.currentObservers=null,o.push(n),new at(function(){r.currentObservers=null,Tr(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,a=r.hasError,s=r.thrownError,i=r.isStopped;a?n.error(s):i&&n.complete()},t.prototype.asObservable=function(){var n=new be;return n.source=this,n},t.create=function(n,r){return new Ai(n,r)},t}(be),Ai=function(e){rt(t,e);function t(n,r){var a=e.call(this)||this;return a.destination=n,a.source=r,a}return t.prototype.next=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.next)===null||a===void 0||a.call(r,n)},t.prototype.error=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.error)===null||a===void 0||a.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,a;return(a=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&a!==void 0?a:Ko},t}(Ee),re=function(e){rt(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,a=n.thrownError,s=n._value;if(r)throw a;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ee),Cs={now:function(){return(Cs.delegate||Date).now()},delegate:void 0},Ed=function(e){rt(t,e);function t(n,r,a){n===void 0&&(n=1/0),r===void 0&&(r=1/0),a===void 0&&(a=Cs);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=a,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return t.prototype.next=function(n){var r=this,a=r.isStopped,s=r._buffer,i=r._infiniteTimeWindow,o=r._timestampProvider,c=r._windowTime;a||(s.push(n),!i&&s.push(o.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),a=this,s=a._infiniteTimeWindow,i=a._buffer,o=i.slice(),c=0;c<o.length&&!n.closed;c+=s?1:2)n.next(o[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,a=n._timestampProvider,s=n._buffer,i=n._infiniteTimeWindow,o=(i?1:2)*r;if(r<1/0&&o<s.length&&s.splice(0,s.length-o),!i){for(var c=a.now(),u=0,d=1;d<s.length&&s[d]<=c;d+=2)u=d;u&&s.splice(0,u+1)}},t}(Ee),Od=function(e){rt(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(at),qa={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=qa.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,Rt([e,t],ft(n))):setInterval.apply(void 0,Rt([e,t],ft(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Pd=function(e){rt(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a.pending=!1,a}return t.prototype.schedule=function(n,r){var a;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,i=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(i,s,r)),this.pending=!0,this.delay=r,this.id=(a=this.id)!==null&&a!==void 0?a:this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),qa.setInterval(n.flush.bind(n,this),a)},t.prototype.recycleAsyncId=function(n,r,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return r;r!=null&&qa.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(n,r);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var a=!1,s;try{this.work(n)}catch(i){a=!0,s=i||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,a=n.scheduler,s=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(s,this),r!=null&&(this.id=this.recycleAsyncId(a,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Od),Ii=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Cs.now,e}(),Cd=function(e){rt(t,e);function t(n,r){r===void 0&&(r=Ii.now);var a=e.call(this,n,r)||this;return a.actions=[],a._active=!1,a}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var a;this._active=!0;do if(a=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,a){for(;n=r.shift();)n.unsubscribe();throw a}},t}(Ii),Yo=new Cd(Pd),Rd=Yo,Xo=new be(function(e){return e.complete()});function Qo(e){return e&&Y(e.schedule)}function Rs(e){return e[e.length-1]}function eu(e){return Y(Rs(e))?e.pop():void 0}function As(e){return Qo(Rs(e))?e.pop():void 0}function Ad(e,t){return typeof Rs(e)=="number"?e.pop():t}var Is=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function tu(e){return Y(e==null?void 0:e.then)}function nu(e){return Y(e[Ps])}function ru(e){return Symbol.asyncIterator&&Y(e==null?void 0:e[Symbol.asyncIterator])}function au(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Id(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var su=Id();function iu(e){return Y(e==null?void 0:e[su])}function ou(e){return fd(this,arguments,function(){var t,n,r,a;return Wo(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,vn(t.read())];case 3:return n=s.sent(),r=n.value,a=n.done,a?[4,vn(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,vn(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function uu(e){return Y(e==null?void 0:e.getReader)}function _t(e){if(e instanceof be)return e;if(e!=null){if(nu(e))return Nd(e);if(Is(e))return qd(e);if(tu(e))return jd(e);if(ru(e))return cu(e);if(iu(e))return Dd(e);if(uu(e))return Zd(e)}throw au(e)}function Nd(e){return new be(function(t){var n=e[Ps]();if(Y(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qd(e){return new be(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function jd(e){return new be(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Jo)})}function Dd(e){return new be(function(t){var n,r;try{for(var a=wn(e),s=a.next();!s.done;s=a.next()){var i=s.value;if(t.next(i),t.closed)return}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()})}function cu(e){return new be(function(t){Ld(e,t).catch(function(n){return t.error(n)})})}function Zd(e){return cu(ou(e))}function Ld(e,t){var n,r,a,s;return pd(this,void 0,void 0,function(){var i,o;return Wo(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=hd(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=c.sent(),a={error:o},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function dt(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var s=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!a)return s}function lu(e,t){return t===void 0&&(t=0),De(function(n,r){n.subscribe(we(r,function(a){return dt(r,e,function(){return r.next(a)},t)},function(){return dt(r,e,function(){return r.complete()},t)},function(a){return dt(r,e,function(){return r.error(a)},t)}))})}function du(e,t){return t===void 0&&(t=0),De(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Fd(e,t){return _t(e).pipe(du(t),lu(t))}function Md(e,t){return _t(e).pipe(du(t),lu(t))}function Ud(e,t){return new be(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function zd(e,t){return new be(function(n){var r;return dt(n,t,function(){r=e[su](),dt(n,t,function(){var a,s,i;try{a=r.next(),s=a.value,i=a.done}catch(o){n.error(o);return}i?n.complete():n.next(s)},0,!0)}),function(){return Y(r==null?void 0:r.return)&&r.return()}})}function pu(e,t){if(!e)throw new Error("Iterable cannot be null");return new be(function(n){dt(n,t,function(){var r=e[Symbol.asyncIterator]();dt(n,t,function(){r.next().then(function(a){a.done?n.complete():n.next(a.value)})},0,!0)})})}function Vd(e,t){return pu(ou(e),t)}function $d(e,t){if(e!=null){if(nu(e))return Fd(e,t);if(Is(e))return Ud(e,t);if(tu(e))return Md(e,t);if(ru(e))return pu(e,t);if(iu(e))return zd(e,t);if(uu(e))return Vd(e,t)}throw au(e)}function Jr(e,t){return t?$d(e,t):_t(e)}function fu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e);return Jr(e,n)}var Ns=Es(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function ja(e,t){var n=typeof t=="object";return new Promise(function(r,a){var s=new Er({next:function(i){r(i),s.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new Ns)}});e.subscribe(s)})}function Bd(e){return e instanceof Date&&!isNaN(e)}function Xe(e,t){return De(function(n,r){var a=0;n.subscribe(we(r,function(s){r.next(e.call(t,s,a++))}))})}var Wd=Array.isArray;function Kd(e,t){return Wd(t)?e.apply(void 0,Rt([],ft(t))):e(t)}function hu(e){return Xe(function(t){return Kd(e,t)})}var Gd=Array.isArray,Hd=Object.getPrototypeOf,Jd=Object.prototype,Yd=Object.keys;function Xd(e){if(e.length===1){var t=e[0];if(Gd(t))return{args:t,keys:null};if(Qd(t)){var n=Yd(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Qd(e){return e&&typeof e=="object"&&Hd(e)===Jd}function ep(e,t){return e.reduce(function(n,r,a){return n[r]=t[a],n},{})}function Ni(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e),r=eu(e),a=Xd(e),s=a.args,i=a.keys;if(s.length===0)return Jr([],n);var o=new be(tp(s,n,i?function(c){return ep(i,c)}:cn));return r?o.pipe(hu(r)):o}function tp(e,t,n){return n===void 0&&(n=cn),function(r){qi(t,function(){for(var a=e.length,s=new Array(a),i=a,o=a,c=function(d){qi(t,function(){var f=Jr(e[d],t),h=!1;f.subscribe(we(r,function(g){s[d]=g,h||(h=!0,o--),o||r.next(n(s.slice()))},function(){--i||r.complete()}))},r)},u=0;u<a;u++)c(u)},r)}}function qi(e,t,n){e?dt(n,e,t):t()}function np(e,t,n,r,a,s,i,o){var c=[],u=0,d=0,f=!1,h=function(){f&&!c.length&&!u&&t.complete()},g=function(_){return u<r?R(_):c.push(_)},R=function(_){s&&t.next(_),u++;var x=!1;_t(n(_,d++)).subscribe(we(t,function(S){a==null||a(S),s?g(S):t.next(S)},function(){x=!0},void 0,function(){if(x)try{u--;for(var S=function(){var N=c.shift();i?dt(t,i,function(){return R(N)}):R(N)};c.length&&u<r;)S();h()}catch(N){t.error(N)}}))};return e.subscribe(we(t,g,function(){f=!0,h()})),function(){o==null||o()}}function Yr(e,t,n){return n===void 0&&(n=1/0),Y(t)?Yr(function(r,a){return Xe(function(s,i){return t(r,s,a,i)})(_t(e(r,a)))},n):(typeof t=="number"&&(n=t),De(function(r,a){return np(r,a,e,n)}))}function rp(e){return e===void 0&&(e=1/0),Yr(cn,e)}var ap=["addListener","removeListener"],sp=["addEventListener","removeEventListener"],ip=["on","off"];function Ye(e,t,n,r){if(Y(n)&&(r=n,n=void 0),r)return Ye(e,t,n).pipe(hu(r));var a=ft(cp(e)?sp.map(function(o){return function(c){return e[o](t,c,n)}}):op(e)?ap.map(ji(e,t)):up(e)?ip.map(ji(e,t)):[],2),s=a[0],i=a[1];if(!s&&Is(e))return Yr(function(o){return Ye(o,t,n)})(_t(e));if(!s)throw new TypeError("Invalid event target");return new be(function(o){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return o.next(1<u.length?u:u[0])};return s(c),function(){return i(c)}})}function ji(e,t){return function(n){return function(r){return e[n](t,r)}}}function op(e){return Y(e.addListener)&&Y(e.removeListener)}function up(e){return Y(e.on)&&Y(e.off)}function cp(e){return Y(e.addEventListener)&&Y(e.removeEventListener)}function Da(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Rd);var r=-1;return t!=null&&(Qo(t)?n=t:r=t),new be(function(a){var s=Bd(e)?+e-n.now():e;s<0&&(s=0);var i=0;return n.schedule(function(){a.closed||(a.next(i++),0<=r?this.schedule(void 0,r):a.complete())},s)})}function Vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e),r=Ad(e,1/0),a=e;return a.length?a.length===1?_t(a[0]):rp(r)(Jr(a,n)):Xo}function ht(e,t){return De(function(n,r){var a=0;n.subscribe(we(r,function(s){return e.call(t,s,a++)&&r.next(s)}))})}function lp(e,t){return t===void 0&&(t=Yo),De(function(n,r){var a=null,s=null,i=null,o=function(){if(a){a.unsubscribe(),a=null;var u=s;s=null,r.next(u)}};function c(){var u=i+e,d=t.now();if(d<u){a=this.schedule(void 0,u-d),r.add(a);return}o()}n.subscribe(we(r,function(u){s=u,i=t.now(),a||(a=t.schedule(c,e),r.add(a))},function(){o(),r.complete()},void 0,function(){s=a=null}))})}function dp(e){return De(function(t,n){var r=!1;t.subscribe(we(n,function(a){r=!0,n.next(a)},function(){r||n.next(e),n.complete()}))})}function pp(e){return e<=0?function(){return Xo}:De(function(t,n){var r=0;t.subscribe(we(n,function(a){++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function fp(e){return e===void 0&&(e=hp),De(function(t,n){var r=!1;t.subscribe(we(n,function(a){r=!0,n.next(a)},function(){return r?n.complete():n.error(e())}))})}function hp(){return new Ns}function mu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ht(function(a,s){return e(a,s,r)}):cn,pp(1),n?dp(t):fp(function(){return new Ns}))}}function mp(e){return ht(function(t,n){return e<=n})}function pt(e,t){return De(function(n,r){var a=null,s=0,i=!1,o=function(){return i&&!a&&r.complete()};n.subscribe(we(r,function(c){a==null||a.unsubscribe();var u=0,d=s++;_t(e(c,d)).subscribe(a=we(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){a=null,o()}))},function(){i=!0,o()}))})}function V(e,t,n){var r=Y(e)||t||n?{next:e,error:t,complete:n}:e;return r?De(function(a,s){var i;(i=r.subscribe)===null||i===void 0||i.call(r);var o=!0;a.subscribe(we(s,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},function(){var c;o=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var u;o=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},function(){var c,u;o&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):cn}function ga(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eu(e);return De(function(r,a){for(var s=e.length,i=new Array(s),o=e.map(function(){return!1}),c=!1,u=function(f){_t(e[f]).subscribe(we(a,function(h){i[f]=h,!c&&!o[f]&&(o[f]=!0,(c=o.every(cn))&&(o=null))},Na))},d=0;d<s;d++)u(d);r.subscribe(we(a,function(f){if(c){var h=Rt([f],ft(i));a.next(n?n.apply(void 0,Rt([],ft(h))):h)}}))})}function ba(e,t,n,r){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function wa(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Or(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function Jt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var _p={withStackTrace:!1},_u=function(e,t,n){n===void 0&&(n=_p);var r=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},a=n.withStackTrace?new Error().stack:void 0;return{data:r,message:e,stack:a}},st=function(){function e(t){this._promise=t}return e.fromSafePromise=function(t){var n=t.then(function(r){return new zt(r)});return new e(n)},e.fromPromise=function(t,n){var r=t.then(function(a){return new zt(a)}).catch(function(a){return new Wt(n(a))});return new e(r)},e.combine=function(t){return vp(t)},e.combineWithAllErrors=function(t){return gp(t)},e.prototype.map=function(t){var n=this;return new e(this._promise.then(function(r){return ba(n,void 0,void 0,function(){var a;return wa(this,function(s){switch(s.label){case 0:return r.isErr()?[2,new Wt(r.error)]:(a=zt.bind,[4,t(r.value)]);case 1:return[2,new(a.apply(zt,[void 0,s.sent()]))]}})})}))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then(function(r){return ba(n,void 0,void 0,function(){var a;return wa(this,function(s){switch(s.label){case 0:return r.isOk()?[2,new zt(r.value)]:(a=Wt.bind,[4,t(r.error)]);case 1:return[2,new(a.apply(Wt,[void 0,s.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(n){if(n.isErr())return new Wt(n.error);var r=t(n.value);return r instanceof e?r._promise:r}))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then(function(r){return ba(n,void 0,void 0,function(){return wa(this,function(a){return r.isErr()?[2,t(r.error)]:[2,new zt(r.value)]})})}))},e.prototype.match=function(t,n){return this._promise.then(function(r){return r.match(t,n)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(n){return n.unwrapOr(t)})},e.prototype.then=function(t,n){return this._promise.then(t,n)},e}(),Di=function(e){return new st(Promise.resolve(new Wt(e)))};st.fromPromise;st.fromSafePromise;var yp=function(e){return function(t){return Jt(Jt([],Or(t),!1),[e],!1)}},yu=function(e){return e.reduce(function(t,n){return t.isOk()?n.isErr()?je(n.error):t.map(yp(n.value)):t},Qe([]))},vp=function(e){return st.fromSafePromise(Promise.all(e)).andThen(yu)},vu=function(e){return e.reduce(function(t,n){return n.isErr()?t.isErr()?je(Jt(Jt([],Or(t.error),!1),[n.error],!1)):je([n.error]):t.isErr()?t:Qe(Jt(Jt([],Or(t.value),!1),[n.value],!1))},Qe([]))},gp=function(e){return st.fromSafePromise(Promise.all(e)).andThen(vu)},Za;(function(e){function t(a,s){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{var c=a.apply(void 0,Jt([],Or(i),!1));return Qe(c)}catch(u){return je(s?s(u):u)}}}e.fromThrowable=t;function n(a){return yu(a)}e.combine=n;function r(a){return vu(a)}e.combineWithAllErrors=r})(Za||(Za={}));var Qe=function(e){return new zt(e)},je=function(e){return new Wt(e)},zt=function(){function e(t){this.value=t}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return Qe(t(this.value))},e.prototype.mapErr=function(t){return Qe(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return Qe(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return st.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,n){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw _u("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),Wt=function(){function e(t){this.error=t}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return je(this.error)},e.prototype.mapErr=function(t){return je(t(this.error))},e.prototype.andThen=function(t){return je(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return Di(this.error)},e.prototype.asyncMap=function(t){return Di(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,n){return n(this.error)},e.prototype._unsafeUnwrap=function(t){throw _u("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}();Za.fromThrowable;var K;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of s)i[o]=a[o];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(K||(K={}));var Zi;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Zi||(Zi={}));const C=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kt=e=>{switch(typeof e){case"undefined":return C.undefined;case"string":return C.string;case"number":return isNaN(e)?C.nan:C.number;case"boolean":return C.boolean;case"function":return C.function;case"bigint":return C.bigint;case"symbol":return C.symbol;case"object":return Array.isArray(e)?C.array:e===null?C.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?C.promise:typeof Map<"u"&&e instanceof Map?C.map:typeof Set<"u"&&e instanceof Set?C.set:typeof Date<"u"&&e instanceof Date?C.date:C.object;default:return C.unknown}},w=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let en=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},n={_errors:[]},r=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(r);else if(s.code==="invalid_return_type")r(s.returnTypeError);else if(s.code==="invalid_arguments")r(s.argumentsError);else if(s.path.length===0)n._errors.push(t(s));else{let i=n,o=0;for(;o<s.path.length;){const c=s.path[o];o===s.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(t(s))):i[c]=i[c]||{_errors:[]},i=i[c],o++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};en.create=e=>new en(e);const gu=(e,t)=>{let n;switch(e.code){case w.invalid_type:e.received===C.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case w.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,K.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:n=`Unrecognized key(s) in object: ${K.joinValues(e.keys,", ")}`;break;case w.invalid_union:n="Invalid input";break;case w.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${K.joinValues(e.options)}`;break;case w.invalid_enum_value:n=`Invalid enum value. Expected ${K.joinValues(e.options)}, received '${e.received}'`;break;case w.invalid_arguments:n="Invalid function arguments";break;case w.invalid_return_type:n="Invalid function return type";break;case w.invalid_date:n="Invalid date";break;case w.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:K.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case w.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case w.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case w.custom:n="Invalid input";break;case w.invalid_intersection_types:n="Intersection results could not be merged";break;case w.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case w.not_finite:n="Number must be finite";break;default:n=t.defaultError,K.assertNever(e)}return{message:n}};let bp=gu;function wp(){return bp}const xp=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,s=[...n,...a.path||[]],i={...a,path:s};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...a,path:s,message:a.message||o}};function P(e,t){const n=xp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,wp(),gu].filter(r=>!!r)});e.common.issues.push(n)}let Ge=class bu{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return U;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n)r.push({key:await a.key,value:await a.value});return bu.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return U;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),(typeof i.value<"u"||a.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}};const U=Object.freeze({status:"aborted"}),kp=e=>({status:"dirty",value:e}),Ze=e=>({status:"valid",value:e}),Li=e=>e.status==="aborted",Fi=e=>e.status==="dirty",La=e=>e.status==="valid",Fa=e=>typeof Promise<"u"&&e instanceof Promise;var A;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(A||(A={}));let At=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const Mi=(e,t)=>{if(La(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new en(e.common.issues);return this._error=n,this._error}}};function M(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,i)=>s.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"?{message:r??i.defaultError}:{message:n??i.defaultError},description:a}}let B=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Kt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Kt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ge,ctx:{common:e.parent.common,data:e.data,parsedType:Kt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Fa(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kt(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Mi(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kt(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Fa(r)?r:Promise.resolve(r));return Mi(n,a)}refine(e,t){const n=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,a)=>{const s=e(r),i=()=>a.addIssue({code:w.custom,...n(r)});return typeof Promise<"u"&&s instanceof Promise?s.then(o=>o?!0:(i(),!1)):s?!0:(i(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t=="function"?t(n,r):t),!1))}_refinement(e){return new kn({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return kt.create(this,this._def)}nullable(){return Sn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xn.create(this,this._def)}promise(){return Rr.create(this,this._def)}or(e){return Pr.create([this,e],this._def)}and(e){return Cr.create(this,e,this._def)}transform(e){return new kn({...M(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ha({...M(this._def),innerType:this,defaultValue:t,typeName:D.ZodDefault})}brand(){return new jp({typeName:D.ZodBranded,type:this,...M(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ja({...M(this._def),innerType:this,catchValue:t,typeName:D.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Dp.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Sp=/^c[^\s-]{8,}$/i,Tp=/^[a-z][a-z0-9]*$/,Ep=/[0-9A-HJKMNP-TV-Z]{26}/,Op=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Pp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Cp=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Rp=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ap=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ip=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Np(e,t){return!!((t==="v4"||!t)&&Rp.test(e)||(t==="v6"||!t)&&Ap.test(e))}let Ma=class Fn extends B{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(a=>t.test(a),{validation:n,code:w.invalid_string,...A.errToObj(r)}),this.nonempty=t=>this.min(1,A.errToObj(t)),this.trim=()=>new Fn({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Fn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Fn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==C.string){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.string,received:a.parsedType}),U}const n=new Ge;let r;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,i=t.data.length<a.value;(s||i)&&(r=this._getOrReturnCtx(t,r),s?P(r,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&P(r,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Pp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"email",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Cp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"emoji",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Op.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"uuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Sp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Tp.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cuid2",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Ep.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"ulid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),P(r,{validation:"url",code:w.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"regex",code:w.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ip(a).test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?Np(t.data,a.version)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"ip",code:w.invalid_string,message:a.message}),n.dirty()):K.assertNever(a);return{status:n.value,value:t.data}}_addCheck(t){return new Fn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...A.errToObj(t)})}url(t){return this._addCheck({kind:"url",...A.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...A.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...A.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...A.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...A.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...A.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...A.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...A.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...A.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...A.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...A.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...A.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...A.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...A.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...A.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Ma.create=e=>{var t;return new Ma({checks:[],typeName:D.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...M(e)})};function qp(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,s=parseInt(e.toFixed(a).replace(".","")),i=parseInt(t.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}let Ua=class za extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==C.number){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.number,received:a.parsedType}),U}let n;const r=new Ge;for(const a of this._def.checks)a.kind==="int"?K.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),P(n,{code:w.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?qp(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),P(n,{code:w.not_finite,message:a.message}),r.dirty()):K.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,A.toString(n))}gt(t,n){return this.setLimit("min",t,!1,A.toString(n))}lte(t,n){return this.setLimit("max",t,!0,A.toString(n))}lt(t,n){return this.setLimit("max",t,!1,A.toString(n))}setLimit(t,n,r,a){return new za({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:A.toString(a)}]})}_addCheck(t){return new za({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:A.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:A.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:A.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:A.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:A.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&K.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};Ua.create=e=>new Ua({checks:[],typeName:D.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...M(e)});let Ui=class Va extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==C.bigint){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.bigint,received:a.parsedType}),U}let n;const r=new Ge;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):K.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,A.toString(n))}gt(t,n){return this.setLimit("min",t,!1,A.toString(n))}lte(t,n){return this.setLimit("max",t,!0,A.toString(n))}lt(t,n){return this.setLimit("max",t,!1,A.toString(n))}setLimit(t,n,r,a){return new Va({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:A.toString(a)}]})}_addCheck(t){return new Va({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:A.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:A.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:A.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:A.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:A.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Ui.create=e=>{var t;return new Ui({checks:[],typeName:D.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...M(e)})};let $a=class extends B{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==C.boolean){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.boolean,received:t.parsedType}),U}return Ze(e.data)}};$a.create=e=>new $a({typeName:D.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...M(e)});let zi=class wu extends B{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==C.date){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.date,received:a.parsedType}),U}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_date}),U}const n=new Ge;let r;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):K.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new wu({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:A.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:A.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};zi.create=e=>new zi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:D.ZodDate,...M(e)});let Vi=class extends B{_parse(e){if(this._getType(e)!==C.symbol){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.symbol,received:t.parsedType}),U}return Ze(e.data)}};Vi.create=e=>new Vi({typeName:D.ZodSymbol,...M(e)});let $i=class extends B{_parse(e){if(this._getType(e)!==C.undefined){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.undefined,received:t.parsedType}),U}return Ze(e.data)}};$i.create=e=>new $i({typeName:D.ZodUndefined,...M(e)});let Bi=class extends B{_parse(e){if(this._getType(e)!==C.null){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.null,received:t.parsedType}),U}return Ze(e.data)}};Bi.create=e=>new Bi({typeName:D.ZodNull,...M(e)});let Wi=class extends B{constructor(){super(...arguments),this._any=!0}_parse(e){return Ze(e.data)}};Wi.create=e=>new Wi({typeName:D.ZodAny,...M(e)});let Ki=class extends B{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ze(e.data)}};Ki.create=e=>new Ki({typeName:D.ZodUnknown,...M(e)});let It=class extends B{_parse(e){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.never,received:t.parsedType}),U}};It.create=e=>new It({typeName:D.ZodNever,...M(e)});let Gi=class extends B{_parse(e){if(this._getType(e)!==C.undefined){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.void,received:t.parsedType}),U}return Ze(e.data)}};Gi.create=e=>new Gi({typeName:D.ZodVoid,...M(e)});let xn=class gr extends B{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==C.array)return P(n,{code:w.invalid_type,expected:C.array,received:n.parsedType}),U;if(a.exactLength!==null){const i=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(i||o)&&(P(n,{code:i?w.too_big:w.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(P(n,{code:w.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(P(n,{code:w.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>a.type._parseAsync(new At(n,i,n.path,o)))).then(i=>Ge.mergeArray(r,i));const s=[...n.data].map((i,o)=>a.type._parseSync(new At(n,i,n.path,o)));return Ge.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new gr({...this._def,minLength:{value:t,message:A.toString(n)}})}max(t,n){return new gr({...this._def,maxLength:{value:t,message:A.toString(n)}})}length(t,n){return new gr({...this._def,exactLength:{value:t,message:A.toString(n)}})}nonempty(t){return this.min(1,t)}};xn.create=(e,t)=>new xn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...M(t)});function hn(e){if(e instanceof He){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=kt.create(hn(r))}return new He({...e._def,shape:()=>t})}else return e instanceof xn?new xn({...e._def,type:hn(e.element)}):e instanceof kt?kt.create(hn(e.unwrap())):e instanceof Sn?Sn.create(hn(e.unwrap())):e instanceof $n?$n.create(e.items.map(t=>hn(t))):e}let He=class Ve extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=K.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==C.object){const c=this._getOrReturnCtx(t);return P(c,{code:w.invalid_type,expected:C.object,received:c.parsedType}),U}const{status:n,ctx:r}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof It&&this._def.unknownKeys==="strip"))for(const c in r.data)s.includes(c)||i.push(c);const o=[];for(const c of s){const u=a[c],d=r.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new At(r,d,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof It){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of i)o.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(c==="strict")i.length>0&&(P(r,{code:w.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of i){const d=r.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new At(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const d=await u.key;c.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Ge.mergeObjectSync(n,c)):Ge.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return A.errToObj,new Ve({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,s,i,o;const c=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=A.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ve({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ve({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:D.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ve({...this._def,catchall:t})}pick(t){const n={};return K.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ve({...this._def,shape:()=>n})}omit(t){const n={};return K.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ve({...this._def,shape:()=>n})}deepPartial(){return hn(this)}partial(t){const n={};return K.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Ve({...this._def,shape:()=>n})}required(t){const n={};return K.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof kt;)a=a._def.innerType;n[r]=a}}),new Ve({...this._def,shape:()=>n})}keyof(){return ku(K.objectKeys(this.shape))}};He.create=(e,t)=>new He({shape:()=>e,unknownKeys:"strip",catchall:It.create(),typeName:D.ZodObject,...M(t)});He.strictCreate=(e,t)=>new He({shape:()=>e,unknownKeys:"strict",catchall:It.create(),typeName:D.ZodObject,...M(t)});He.lazycreate=(e,t)=>new He({shape:e,unknownKeys:"strip",catchall:It.create(),typeName:D.ZodObject,...M(t)});let Pr=class extends B{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function r(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;const s=a.map(i=>new en(i.ctx.common.issues));return P(t,{code:w.invalid_union,unionErrors:s}),U}if(t.common.async)return Promise.all(n.map(async a=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(r);{let a;const s=[];for(const o of n){const c={...t,common:{...t.common,issues:[]},parent:null},u=o._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(o=>new en(o));return P(t,{code:w.invalid_union,unionErrors:i}),U}}get options(){return this._def.options}};Pr.create=(e,t)=>new Pr({options:e,typeName:D.ZodUnion,...M(t)});function Ba(e,t){const n=Kt(e),r=Kt(t);if(e===t)return{valid:!0,data:e};if(n===C.object&&r===C.object){const a=K.objectKeys(t),s=K.objectKeys(e).filter(o=>a.indexOf(o)!==-1),i={...e,...t};for(const o of s){const c=Ba(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===C.array&&r===C.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],o=t[s],c=Ba(i,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===C.date&&r===C.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let Cr=class extends B{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(a,s)=>{if(Li(a)||Li(s))return U;const i=Ba(a.value,s.value);return i.valid?((Fi(a)||Fi(s))&&t.dirty(),{status:t.value,value:i.data}):(P(n,{code:w.invalid_intersection_types}),U)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>r(a,s)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Cr.create=(e,t,n)=>new Cr({left:e,right:t,typeName:D.ZodIntersection,...M(n)});let $n=class xu extends B{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==C.array)return P(r,{code:w.invalid_type,expected:C.array,received:r.parsedType}),U;if(r.data.length<this._def.items.length)return P(r,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,i)=>{const o=this._def.items[i]||this._def.rest;return o?o._parse(new At(r,s,r.path,i)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>Ge.mergeArray(n,s)):Ge.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new xu({...this._def,rest:t})}};$n.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $n({items:e,typeName:D.ZodTuple,rest:null,...M(t)})};let Hi=class extends B{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==C.map)return P(n,{code:w.invalid_type,expected:C.map,received:n.parsedType}),U;const r=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([i,o],c)=>({key:r._parse(new At(n,i,n.path,[c,"key"])),value:a._parse(new At(n,o,n.path,[c,"value"]))}));if(n.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const o of s){const c=await o.key,u=await o.value;if(c.status==="aborted"||u.status==="aborted")return U;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),i.set(c.value,u.value)}return{status:t.value,value:i}})}else{const i=new Map;for(const o of s){const c=o.key,u=o.value;if(c.status==="aborted"||u.status==="aborted")return U;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),i.set(c.value,u.value)}return{status:t.value,value:i}}}};Hi.create=(e,t,n)=>new Hi({valueType:t,keyType:e,typeName:D.ZodMap,...M(n)});let Ji=class Wa extends B{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==C.set)return P(r,{code:w.invalid_type,expected:C.set,received:r.parsedType}),U;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(P(r,{code:w.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(P(r,{code:w.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return U;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>s._parse(new At(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,n){return new Wa({...this._def,minSize:{value:t,message:A.toString(n)}})}max(t,n){return new Wa({...this._def,maxSize:{value:t,message:A.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};Ji.create=(e,t)=>new Ji({valueType:e,minSize:null,maxSize:null,typeName:D.ZodSet,...M(t)});let Yi=class extends B{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Yi.create=(e,t)=>new Yi({getter:e,typeName:D.ZodLazy,...M(t)});let Ka=class extends B{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return P(t,{received:t.data,code:w.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ka.create=(e,t)=>new Ka({value:e,typeName:D.ZodLiteral,...M(t)});function ku(e,t){return new qs({values:e,typeName:D.ZodEnum,...M(t)})}let qs=class Ga extends B{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{expected:K.joinValues(r),received:n.parsedType,code:w.invalid_type}),U}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{received:n.data,code:w.invalid_enum_value,options:r}),U}return Ze(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Ga.create(t)}exclude(t){return Ga.create(this.options.filter(n=>!t.includes(n)))}};qs.create=ku;let Xi=class extends B{_parse(e){const t=K.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==C.string&&n.parsedType!==C.number){const r=K.objectValues(t);return P(n,{expected:K.joinValues(r),received:n.parsedType,code:w.invalid_type}),U}if(t.indexOf(e.data)===-1){const r=K.objectValues(t);return P(n,{received:n.data,code:w.invalid_enum_value,options:r}),U}return Ze(e.data)}get enum(){return this._def.values}};Xi.create=(e,t)=>new Xi({values:e,typeName:D.ZodNativeEnum,...M(t)});let Rr=class extends B{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==C.promise&&t.common.async===!1)return P(t,{code:w.invalid_type,expected:C.promise,received:t.parsedType}),U;const n=t.parsedType===C.promise?t.data:Promise.resolve(t.data);return Ze(n.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Rr.create=(e,t)=>new Rr({type:e,typeName:D.ZodPromise,...M(t)});let kn=class extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if(r.type==="preprocess"){const s=r.transform(n.data);return n.common.async?Promise.resolve(s).then(i=>this._def.schema._parseAsync({data:i,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}const a={addIssue:s=>{P(n,s),s.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="refinement"){const s=i=>{const o=r.refinement(i,a);if(n.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?U:(i.status==="dirty"&&t.dirty(),s(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?U:(i.status==="dirty"&&t.dirty(),s(i.value).then(()=>({status:t.value,value:i.value}))))}if(r.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!La(s))return s;const i=r.transform(s.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>La(s)?Promise.resolve(r.transform(s.value,a)).then(i=>({status:t.value,value:i})):s);K.assertNever(r)}};kn.create=(e,t,n)=>new kn({schema:e,typeName:D.ZodEffects,effect:t,...M(n)});kn.createWithPreprocess=(e,t,n)=>new kn({schema:t,effect:{type:"preprocess",transform:e},typeName:D.ZodEffects,...M(n)});let kt=class extends B{_parse(e){return this._getType(e)===C.undefined?Ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};kt.create=(e,t)=>new kt({innerType:e,typeName:D.ZodOptional,...M(t)});let Sn=class extends B{_parse(e){return this._getType(e)===C.null?Ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Sn.create=(e,t)=>new Sn({innerType:e,typeName:D.ZodNullable,...M(t)});let Ha=class extends B{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===C.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Ha.create=(e,t)=>new Ha({innerType:e,typeName:D.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...M(t)});let Ja=class extends B{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fa(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new en(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new en(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ja.create=(e,t)=>new Ja({innerType:e,typeName:D.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...M(t)});let Qi=class extends B{_parse(e){if(this._getType(e)!==C.nan){const t=this._getOrReturnCtx(e);return P(t,{code:w.invalid_type,expected:C.nan,received:t.parsedType}),U}return{status:"valid",value:e.data}}};Qi.create=e=>new Qi({typeName:D.ZodNaN,...M(e)});let jp=class extends B{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Dp=class Su extends B{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?U:a.status==="dirty"?(n.dirty(),kp(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?U:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Su({in:t,out:n,typeName:D.ZodPipeline})}};He.lazycreate;var D;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(D||(D={}));const H=Ma.create,Xr=Ua.create,Bn=$a.create;It.create;const Wn=xn.create,z=He.create;He.strictCreate;const ke=Pr.create;Cr.create;$n.create;const J=Ka.create;qs.create;Rr.create;kt.create;Sn.create;const Tu=z({address:H(),label:H(),appearanceId:Xr()}),Qn=z({publicKey:H(),signature:H(),curve:ke([J("curve25519"),J("secp256k1")])}),Zp=z({accountAddress:H(),proof:Qn}),er=z({identityAddress:H(),label:H()}),eo={western:"western",eastern:"eastern"},Lp=ke([J(eo.eastern),J(eo.western)]),Eu=z({variant:Lp,familyName:H(),nickname:H(),givenNames:H()}),et=z({quantifier:ke([J("exactly"),J("atLeast")]),quantity:Xr().gte(0)}),Ya=z({challenge:H().optional(),numberOfAccounts:et}),Xa=z({accounts:Wn(Tu),challenge:H().optional(),proofs:Wn(Zp).optional()}).refine(e=>{var t;return e.challenge||e!=null&&e.proofs?e.challenge&&((t=e==null?void 0:e.proofs)==null?void 0:t.length):!0},"missing challenge or proofs"),Ar=z({isRequestingName:Bn().optional(),numberOfRequestedEmailAddresses:et.optional(),numberOfRequestedPhoneNumbers:et.optional()}),Qa=z({name:Eu.optional(),emailAddresses:Wn(H()).optional(),phoneNumbers:Wn(H()).optional()}),Fp=z({accounts:Bn(),personaData:Bn()});z({persona:er,challenge:H().optional(),proof:Qn.optional()}).refine(e=>e.challenge||e.proof?e.challenge&&e.proof:!0,"missing challenge or proof");const Mp=z({discriminator:J("unauthorizedRequest"),oneTimeAccounts:Ya.optional(),oneTimePersonaData:Ar.optional()}),Up=z({discriminator:J("usePersona"),identityAddress:H()}),zp=z({discriminator:J("loginWithoutChallenge")}),Vp=z({discriminator:J("loginWithChallenge"),challenge:H()}),$p=ke([zp,Vp]),Bp=ke([Up,$p]),Wp=z({discriminator:J("authorizedRequest"),auth:Bp,reset:Fp.optional(),oneTimeAccounts:Ya.optional(),ongoingAccounts:Ya.optional(),oneTimePersonaData:Ar.optional(),ongoingPersonaData:Ar.optional()}),Kp=ke([Mp,Wp]),Gp=z({transactionManifest:H(),version:Xr(),blobs:Wn(H()).optional(),message:H().optional()}),Hp=z({discriminator:J("transaction"),send:Gp}),Jp=z({transactionIntentHash:H()}),Yp=z({discriminator:J("transaction"),send:Jp}),Xp=z({discriminator:J("cancelRequest")}),Qp=ke([Kp,Hp,Xp]),Ou=z({version:J(2),networkId:Xr(),dAppDefinitionAddress:H()}),ef=z({interactionId:H(),metadata:Ou,items:Qp}),tf=z({discriminator:J("unauthorizedRequest"),oneTimeAccounts:Xa.optional(),oneTimePersonaData:Qa.optional()}),nf=z({discriminator:J("loginWithoutChallenge"),persona:er}),rf=z({discriminator:J("loginWithChallenge"),persona:er,challenge:H(),proof:Qn}),af=ke([nf,rf]),sf=z({discriminator:J("usePersona"),persona:er}),of=ke([sf,af]),uf=z({discriminator:J("authorizedRequest"),auth:of,oneTimeAccounts:Xa.optional(),ongoingAccounts:Xa.optional(),oneTimePersonaData:Qa.optional(),ongoingPersonaData:Qa.optional()}),cf=ke([tf,uf]),lf=ke([cf,Yp]),df=z({discriminator:J("success"),interactionId:H(),items:lf}),pf=z({discriminator:J("failure"),interactionId:H(),error:H(),message:H().optional()}),Pu=ke([df,pf]);z({interactionId:H(),discriminator:J("extensionStatus")});const mn={extensionStatus:"extensionStatus",receivedByExtension:"receivedByExtension",receivedByWallet:"receivedByWallet",requestCancelSuccess:"requestCancelSuccess",requestCancelFail:"requestCancelFail"};z({eventType:J(mn.extensionStatus),interactionId:H(),isWalletLinked:Bn(),isExtensionAvailable:Bn()});const ff=z({eventType:ke([J(mn.extensionStatus),J(mn.receivedByExtension),J(mn.receivedByWallet),J(mn.requestCancelSuccess),J(mn.requestCancelFail)]),interactionId:H()});ke([ff,Pu]);const fr={outgoingMessage:"radix#chromeExtension#send",incomingMessage:"radix#chromeExtension#receive"},hf=(e,t)=>st.fromPromise(e.parseAsync(t),n=>n.issues),mf=e=>(t,n,r=crypto.randomUUID())=>{const a={items:n,interactionId:r,metadata:t};return hf(ef,a).mapErr(s=>(e==null||e.error(" invalidWalletInteraction",s),Qt(Mn.walletRequestValidation,a.interactionId)))},_f=e=>e,Mn={rejectedByUser:"rejectedByUser",missingExtension:"missingExtension",canceledByUser:"canceledByUser",walletRequestValidation:"walletRequestValidation",walletResponseValidation:"walletResponseValidation",wrongNetwork:"wrongNetwork",failedToPrepareTransaction:"failedToPrepareTransaction",failedToCompileTransaction:"failedToCompileTransaction",failedToSignTransaction:"failedToSignTransaction",failedToSubmitTransaction:"failedToSubmitTransaction",failedToPollSubmittedTransaction:"failedToPollSubmittedTransaction",submittedTransactionWasDuplicate:"submittedTransactionWasDuplicate",submittedTransactionHasFailedTransactionStatus:"submittedTransactionHasFailedTransactionStatus",submittedTransactionHasRejectedTransactionStatus:"submittedTransactionHasRejectedTransactionStatus",failedToFindAccountWithEnoughFundsToLockFee:"failedToFindAccountWithEnoughFundsToLockFee",wrongAccountType:"wrongAccountType",unknownWebsite:"unknownWebsite",radixJsonNotFound:"radixJsonNotFound",unknownDappDefinitionAddress:"unknownDappDefinitionAddress",invalidPersona:"invalidPersona"},yf=new Map().set(Mn.missingExtension,"extension could not be found").set(Mn.rejectedByUser,"user rejected request").set(Mn.canceledByUser,"user has canceled the request"),Qt=(e,t,n)=>({error:e,interactionId:t,message:n||yf.get(e)||""}),to=e=>st.fromPromise(Pu.parseAsync(e),t=>t.issues).andThen(t=>t.discriminator==="success"?Qe(t):je(t)).mapErr(()=>Qt("walletResponseValidation","")),vf=(e,t)=>{const n=e.logger,r=mf(n);return{request:(a,s={})=>r(e,a).andThen(i=>t.send(i,s)).andThen(to).map(i=>i.items),sendTransaction:(a,s={})=>r(e,{discriminator:"transaction",send:a}).andThen(i=>t.send(i,s)).andThen(to).map(i=>i.items.send),extensionStatus$:t.extensionStatus$,openPopup:t.openPopup}};var es=function(e,t){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},es(e,t)};function jt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");es(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function gf(e,t,n,r){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function Cu(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function En(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function On(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function gn(e){return this instanceof gn?(this.v=e,this):new gn(e)}function bf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(h){r[h]&&(a[h]=function(g){return new Promise(function(R,_){s.push([h,g,R,_])>1||o(h,g)})})}function o(h,g){try{c(r[h](g))}catch(R){f(s[0][3],R)}}function c(h){h.value instanceof gn?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){o("next",h)}function d(h){o("throw",h)}function f(h,g){h(g),s.shift(),s.length&&o(s[0][0],s[0][1])}}function wf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Tn=="function"?Tn(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(o,c){i=e[s](i),a(o,c,i.done,i.value)})}}function a(s,i,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},i)}}function le(e){return typeof e=="function"}function js(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xa=js(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Ir(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var In=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,a,s;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var o=Tn(i),c=o.next();!c.done;c=o.next()){var u=c.value;u.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else i.remove(this);var d=this.initialTeardown;if(le(d))try{d()}catch(_){s=_ instanceof xa?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=Tn(f),g=h.next();!g.done;g=h.next()){var R=g.value;try{no(R)}catch(_){s=s??[],_ instanceof xa?s=On(On([],En(s)),En(_.errors)):s.push(_)}}}catch(_){r={error:_}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}if(s)throw new xa(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)no(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ir(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ir(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ru=In.EMPTY;function Au(e){return e instanceof In||e&&"closed"in e&&le(e.remove)&&le(e.add)&&le(e.unsubscribe)}function no(e){le(e)?e():e.unsubscribe()}var Iu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xf={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,On([e,t],En(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Nu(e){xf.setTimeout(function(){throw e})}function ts(){}function br(e){e()}var Ds=function(e){jt(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Au(n)&&n.add(r)):r.destination=Ef,r}return t.create=function(n,r,a){return new Pn(n,r,a)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(In),kf=Function.prototype.bind;function ka(e,t){return kf.call(e,t)}var Sf=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){hr(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){hr(r)}else hr(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){hr(n)}},e}(),Pn=function(e){jt(t,e);function t(n,r,a){var s=e.call(this)||this,i;if(le(n)||!n)i={next:n??void 0,error:r??void 0,complete:a??void 0};else{var o;s&&Iu.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return s.unsubscribe()},i={next:n.next&&ka(n.next,o),error:n.error&&ka(n.error,o),complete:n.complete&&ka(n.complete,o)}):i=n}return s.destination=new Sf(i),s}return t}(Ds);function hr(e){Nu(e)}function Tf(e){throw e}var Ef={closed:!0,next:ts,error:Tf,complete:ts},Zs=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Qr(e){return e}function Of(e){return e.length===0?Qr:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var xe=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var a=this,s=Cf(t)?t:new Pn(t,n,r);return br(function(){var i=a,o=i.operator,c=i.source;s.add(o?o.call(s,c):c?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=ro(n),new n(function(a,s){var i=new Pn({next:function(o){try{t(o)}catch(c){s(c),i.unsubscribe()}},error:s,complete:a});r.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Zs]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Of(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=ro(t),new t(function(r,a){var s;n.subscribe(function(i){return s=i},function(i){return a(i)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function ro(e){var t;return(t=e??Iu.Promise)!==null&&t!==void 0?t:Promise}function Pf(e){return e&&le(e.next)&&le(e.error)&&le(e.complete)}function Cf(e){return e&&e instanceof Ds||Pf(e)&&Au(e)}function Rf(e){return le(e==null?void 0:e.lift)}function Le(e){return function(t){if(Rf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(e,t,n,r,a){return new Af(e,t,n,r,a)}var Af=function(e){jt(t,e);function t(n,r,a,s,i,o){var c=e.call(this,n)||this;return c.onFinalize=i,c.shouldUnsubscribe=o,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=s?function(u){try{s(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=a?function(){try{a()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Ds),If=js(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Yt=function(e){jt(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new ao(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new If},t.prototype.next=function(n){var r=this;br(function(){var a,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var i=Tn(r.currentObservers),o=i.next();!o.done;o=i.next()){var c=o.value;c.next(n)}}catch(u){a={error:u}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}}})},t.prototype.error=function(n){var r=this;br(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var a=r.observers;a.length;)a.shift().error(n)}})},t.prototype.complete=function(){var n=this;br(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,a=this,s=a.hasError,i=a.isStopped,o=a.observers;return s||i?Ru:(this.currentObservers=null,o.push(n),new In(function(){r.currentObservers=null,Ir(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,a=r.hasError,s=r.thrownError,i=r.isStopped;a?n.error(s):i&&n.complete()},t.prototype.asObservable=function(){var n=new xe;return n.source=this,n},t.create=function(n,r){return new ao(n,r)},t}(xe),ao=function(e){jt(t,e);function t(n,r){var a=e.call(this)||this;return a.destination=n,a.source=r,a}return t.prototype.next=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.next)===null||a===void 0||a.call(r,n)},t.prototype.error=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.error)===null||a===void 0||a.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,a;return(a=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&a!==void 0?a:Ru},t}(Yt),Nf={now:function(){return Date.now()},delegate:void 0},qf=function(e){jt(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(In),ns={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=ns.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,On([e,t],En(n))):setInterval.apply(void 0,On([e,t],En(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},jf=function(e){jt(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a.pending=!1,a}return t.prototype.schedule=function(n,r){var a;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,i=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(i,s,r)),this.pending=!0,this.delay=r,this.id=(a=this.id)!==null&&a!==void 0?a:this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),ns.setInterval(n.flush.bind(n,this),a)},t.prototype.recycleAsyncId=function(n,r,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return r;r!=null&&ns.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(n,r);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var a=!1,s;try{this.work(n)}catch(i){a=!0,s=i||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,a=n.scheduler,s=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(s,this),r!=null&&(this.id=this.recycleAsyncId(a,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(qf),so=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Nf.now,e}(),Df=function(e){jt(t,e);function t(n,r){r===void 0&&(r=so.now);var a=e.call(this,n,r)||this;return a.actions=[],a._active=!1,a}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var a;this._active=!0;do if(a=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,a){for(;n=r.shift();)n.unsubscribe();throw a}},t}(so),Zf=new Df(jf),Lf=Zf,qu=new xe(function(e){return e.complete()});function ju(e){return e&&le(e.schedule)}function Du(e){return e[e.length-1]}function Zu(e){return ju(Du(e))?e.pop():void 0}function Ff(e,t){return typeof Du(e)=="number"?e.pop():t}var Lu=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Fu(e){return le(e==null?void 0:e.then)}function Mu(e){return le(e[Zs])}function Uu(e){return Symbol.asyncIterator&&le(e==null?void 0:e[Symbol.asyncIterator])}function zu(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Mf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vu=Mf();function $u(e){return le(e==null?void 0:e[Vu])}function Bu(e){return bf(this,arguments,function(){var t,n,r,a;return Cu(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,gn(t.read())];case 3:return n=s.sent(),r=n.value,a=n.done,a?[4,gn(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,gn(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Wu(e){return le(e==null?void 0:e.getReader)}function Fe(e){if(e instanceof xe)return e;if(e!=null){if(Mu(e))return Uf(e);if(Lu(e))return zf(e);if(Fu(e))return Vf(e);if(Uu(e))return Ku(e);if($u(e))return $f(e);if(Wu(e))return Bf(e)}throw zu(e)}function Uf(e){return new xe(function(t){var n=e[Zs]();if(le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zf(e){return new xe(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Vf(e){return new xe(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Nu)})}function $f(e){return new xe(function(t){var n,r;try{for(var a=Tn(e),s=a.next();!s.done;s=a.next()){var i=s.value;if(t.next(i),t.closed)return}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()})}function Ku(e){return new xe(function(t){Wf(e,t).catch(function(n){return t.error(n)})})}function Bf(e){return Ku(Bu(e))}function Wf(e,t){var n,r,a,s;return gf(this,void 0,void 0,function(){var i,o;return Cu(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=wf(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=c.sent(),a={error:o},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function St(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var s=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!a)return s}function Gu(e,t){return t===void 0&&(t=0),Le(function(n,r){n.subscribe(Oe(r,function(a){return St(r,e,function(){return r.next(a)},t)},function(){return St(r,e,function(){return r.complete()},t)},function(a){return St(r,e,function(){return r.error(a)},t)}))})}function Hu(e,t){return t===void 0&&(t=0),Le(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Kf(e,t){return Fe(e).pipe(Hu(t),Gu(t))}function Gf(e,t){return Fe(e).pipe(Hu(t),Gu(t))}function Hf(e,t){return new xe(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Jf(e,t){return new xe(function(n){var r;return St(n,t,function(){r=e[Vu](),St(n,t,function(){var a,s,i;try{a=r.next(),s=a.value,i=a.done}catch(o){n.error(o);return}i?n.complete():n.next(s)},0,!0)}),function(){return le(r==null?void 0:r.return)&&r.return()}})}function Ju(e,t){if(!e)throw new Error("Iterable cannot be null");return new xe(function(n){St(n,t,function(){var r=e[Symbol.asyncIterator]();St(n,t,function(){r.next().then(function(a){a.done?n.complete():n.next(a.value)})},0,!0)})})}function Yf(e,t){return Ju(Bu(e),t)}function Xf(e,t){if(e!=null){if(Mu(e))return Kf(e,t);if(Lu(e))return Hf(e,t);if(Fu(e))return Gf(e,t);if(Uu(e))return Ju(e,t);if($u(e))return Jf(e,t);if(Wu(e))return Yf(e,t)}throw zu(e)}function Yu(e,t){return t?Xf(e,t):Fe(e)}function io(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zu(e);return Yu(e,n)}var Ls=js(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Xu(e,t){var n=typeof t=="object";return new Promise(function(r,a){var s=new Pn({next:function(i){r(i),s.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new Ls)}});e.subscribe(s)})}function Qf(e){return e instanceof Date&&!isNaN(e)}function Vt(e,t){return Le(function(n,r){var a=0;n.subscribe(Oe(r,function(s){r.next(e.call(t,s,a++))}))})}function eh(e,t,n,r,a,s,i,o){var c=[],u=0,d=0,f=!1,h=function(){f&&!c.length&&!u&&t.complete()},g=function(_){return u<r?R(_):c.push(_)},R=function(_){s&&t.next(_),u++;var x=!1;Fe(n(_,d++)).subscribe(Oe(t,function(S){a==null||a(S),s?g(S):t.next(S)},function(){x=!0},void 0,function(){if(x)try{u--;for(var S=function(){var N=c.shift();i?St(t,i,function(){return R(N)}):R(N)};c.length&&u<r;)S();h()}catch(N){t.error(N)}}))};return e.subscribe(Oe(t,g,function(){f=!0,h()})),function(){o==null||o()}}function Qu(e,t,n){return n===void 0&&(n=1/0),le(t)?Qu(function(r,a){return Vt(function(s,i){return t(r,s,a,i)})(Fe(e(r,a)))},n):(typeof t=="number"&&(n=t),Le(function(r,a){return eh(r,a,e,n)}))}function th(e){return e===void 0&&(e=1/0),Qu(Qr,e)}function oo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Lf);var r=-1;return t!=null&&(ju(t)?n=t:r=t),new xe(function(a){var s=Qf(e)?+e-n.now():e;s<0&&(s=0);var i=0;return n.schedule(function(){a.closed||(a.next(i++),0<=r?this.schedule(void 0,r):a.complete())},s)})}function Ln(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zu(e),r=Ff(e,1/0),a=e;return a.length?a.length===1?Fe(a[0]):th(r)(Yu(a,n)):qu}var nh=Array.isArray;function rh(e){return e.length===1&&nh(e[0])?e[0]:e}function $t(e,t){return Le(function(n,r){var a=0;n.subscribe(Oe(r,function(s){return e.call(t,s,a++)&&r.next(s)}))})}function ah(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=rh(e),e.length===1?Fe(e[0]):new xe(sh(e))}function sh(e){return function(t){for(var n=[],r=function(s){n.push(Fe(e[s]).subscribe(Oe(t,function(i){if(n){for(var o=0;o<n.length;o++)o!==s&&n[o].unsubscribe();n=null}t.next(i)})))},a=0;n&&!t.closed&&a<e.length;a++)r(a)}}function ih(e){return Le(function(t,n){var r=!1;t.subscribe(Oe(n,function(a){r=!0,n.next(a)},function(){r||n.next(e),n.complete()}))})}function oh(e){return e<=0?function(){return qu}:Le(function(t,n){var r=0;t.subscribe(Oe(n,function(a){++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function uh(e){return e===void 0&&(e=ch),Le(function(t,n){var r=!1;t.subscribe(Oe(n,function(a){r=!0,n.next(a)},function(){return r?n.complete():n.error(e())}))})}function ch(){return new Ls}function uo(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?$t(function(a,s){return e(a,s,r)}):Qr,oh(1),n?ih(t):uh(function(){return new Ls}))}}function lh(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Yt}:t,r=e.resetOnError,a=r===void 0?!0:r,s=e.resetOnComplete,i=s===void 0?!0:s,o=e.resetOnRefCountZero,c=o===void 0?!0:o;return function(u){var d,f,h,g=0,R=!1,_=!1,x=function(){f==null||f.unsubscribe(),f=void 0},S=function(){x(),d=h=void 0,R=_=!1},N=function(){var y=d;S(),y==null||y.unsubscribe()};return Le(function(y,q){g++,!_&&!R&&x();var X=h=h??n();q.add(function(){g--,g===0&&!_&&!R&&(f=Sa(N,c))}),X.subscribe(q),!d&&g>0&&(d=new Pn({next:function(te){return X.next(te)},error:function(te){_=!0,x(),f=Sa(S,a,te),X.error(te)},complete:function(){R=!0,x(),f=Sa(S,i),X.complete()}}),Fe(y).subscribe(d))})(u)}}function Sa(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var a=new Pn({next:function(){a.unsubscribe(),e()}});return Fe(t.apply(void 0,On([],En(n)))).subscribe(a)}}function dh(e,t){return Le(function(n,r){var a=null,s=0,i=!1,o=function(){return i&&!a&&r.complete()};n.subscribe(Oe(r,function(c){a==null||a.unsubscribe();var u=0,d=s++;Fe(e(c,d)).subscribe(a=Oe(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){a=null,o()}))},function(){i=!0,o()}))})}function ph(e){return Le(function(t,n){Fe(e).subscribe(Oe(n,function(){return n.complete()},ts)),!n.closed&&t.subscribe(n)})}function fn(e,t,n){var r=le(e)||t||n?{next:e,error:t,complete:n}:e;return r?Le(function(a,s){var i;(i=r.subscribe)===null||i===void 0||i.call(r);var o=!0;a.subscribe(Oe(s,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},function(){var c;o=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var u;o=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},function(){var c,u;o&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Qr}const fh=()=>({outgoingMessageSubject:new Yt,incomingMessageSubject:new Yt,responseSubject:new Yt,messageLifeCycleEventSubject:new Yt}),hh=e=>st.fromPromise(Xu(e),_f).andThen(t=>t),co={extensionDetectionTime:100},mh=e=>{const t=e==null?void 0:e.logger,n=(e==null?void 0:e.subjects)??fh(),r=new In;r.add(n.incomingMessageSubject.pipe(fn(o=>{"eventType"in o?(t==null||t.debug(" messageLifecycleEvent",o),n.messageLifeCycleEventSubject.next(o)):(t==null||t.debug(" walletResponse",o),n.responseSubject.next(o))})).subscribe()),r.add(n.outgoingMessageSubject.pipe(fn(o=>{t==null||t.debug(" walletRequest",o),window.dispatchEvent(new CustomEvent(fr.outgoingMessage,{detail:o}))})).subscribe());const a=o=>{const c=o.detail;n.incomingMessageSubject.next(c)};addEventListener(fr.incomingMessage,a);const s=(o,c)=>{const u=new Yt,d=n.responseSubject.pipe($t(y=>y.interactionId===o.interactionId),Vt(y=>y.discriminator==="success"?Qe(y):je(y))),f=n.messageLifeCycleEventSubject.pipe($t(({interactionId:y,eventType:q})=>o.interactionId===y&&["requestCancelSuccess","requestCancelFail"].includes(q)),Vt(y=>{const q=Qt("canceledByUser",y.interactionId);return t==null||t.debug(" walletRequestCanceled",q),y})),h=()=>(n.outgoingMessageSubject.next({interactionId:o.interactionId,items:{discriminator:"cancelRequest"},metadata:o.metadata}),setTimeout(()=>{u.next(je(Qt("canceledByUser",o.interactionId)))}),st.fromSafePromise(Xu(Ln(d.pipe(Vt(()=>"requestCancelFail")),f.pipe(Vt(({eventType:y})=>y))))));c.requestControl&&c.requestControl({cancelRequest:()=>h().andThen(y=>y==="requestCancelSuccess"?Qe("requestCancelSuccess"):je("requestCancelFail")),getRequest:()=>o});const g=Ln(d,u).pipe(uo()),R=n.messageLifeCycleEventSubject.pipe($t(({interactionId:y})=>o.interactionId===y),fn(y=>{c.eventCallback&&c.eventCallback(y.eventType)}),ph(d),lh()),_=R.subscribe(),x=oo(co.extensionDetectionTime).pipe(Vt(()=>je(Qt("missingExtension",o.interactionId)))),S=Ln(x,R).pipe(uo(),$t(y=>!("eventType"in y))),N=io(o).pipe(fn(y=>{n.outgoingMessageSubject.next(y)}),$t(y=>!1));return hh(Ln(g,S,N).pipe(fn(()=>{_.unsubscribe()})))},i=n.messageLifeCycleEventSubject.pipe($t(o=>o.eventType==="extensionStatus"));return{send:s,destroy:()=>{r.unsubscribe(),removeEventListener(fr.incomingMessage,a)},openPopup:()=>{window.dispatchEvent(new CustomEvent(fr.outgoingMessage,{detail:{discriminator:"openPopup"}}))},extensionStatus$:io(!0).pipe(fn(()=>{n.outgoingMessageSubject.next({interactionId:crypto.randomUUID(),discriminator:"extensionStatus"})}),dh(()=>ah(i,Ln(i,oo(co.extensionDetectionTime).pipe(Vt(()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1})))))))}};var lo;[typeof window,typeof document].includes("undefined"),(lo=globalThis==null?void 0:globalThis.navigator)==null||lo.userAgent;const _h=e=>{var t,n;const r={version:2,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId};Ou.parse(r),(t=e.logger)==null||t.debug(" walletSdkInstantiated",r);const a=e.logger,s=((n=e.providers)==null?void 0:n.connectorExtensionClient)??mh({logger:a});return{...vf({version:2,logger:e.logger,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId},s),destroy:()=>{a==null||a.debug(" walletSdkInstantiatedDestroyed"),s.destroy()}}};var G;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of s)i[o]=a[o];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(G||(G={}));var po;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(po||(po={}));const O=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gt=e=>{switch(typeof e){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(e)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(e)?O.array:e===null?O.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?O.promise:typeof Map<"u"&&e instanceof Map?O.map:typeof Set<"u"&&e instanceof Set?O.set:typeof Date<"u"&&e instanceof Date?O.date:O.object;default:return O.unknown}},b=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class tn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}tn.create=e=>new tn(e);const ec=(e,t)=>{let n;switch(e.code){case b.invalid_type:e.received===O.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case b.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,G.jsonStringifyReplacer)}`;break;case b.unrecognized_keys:n=`Unrecognized key(s) in object: ${G.joinValues(e.keys,", ")}`;break;case b.invalid_union:n="Invalid input";break;case b.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${G.joinValues(e.options)}`;break;case b.invalid_enum_value:n=`Invalid enum value. Expected ${G.joinValues(e.options)}, received '${e.received}'`;break;case b.invalid_arguments:n="Invalid function arguments";break;case b.invalid_return_type:n="Invalid function return type";break;case b.invalid_date:n="Invalid date";break;case b.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:G.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case b.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case b.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case b.custom:n="Invalid input";break;case b.invalid_intersection_types:n="Intersection results could not be merged";break;case b.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case b.not_finite:n="Number must be finite";break;default:n=t.defaultError,G.assertNever(e)}return{message:n}};let yh=ec;function vh(){return yh}const gh=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,s=[...n,...a.path||[]],i={...a,path:s};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...a,path:s,message:a.message||o}};function E(e,t){const n=gh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,vh(),ec].filter(r=>!!r)});e.common.issues.push(n)}class Pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return L;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n)r.push({key:await a.key,value:await a.value});return Pe.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return L;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),(typeof i.value<"u"||a.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}}const L=Object.freeze({status:"aborted"}),bh=e=>({status:"dirty",value:e}),Me=e=>({status:"valid",value:e}),fo=e=>e.status==="aborted",ho=e=>e.status==="dirty",rs=e=>e.status==="valid",as=e=>typeof Promise<"u"&&e instanceof Promise;var I;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(I||(I={}));class Nt{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mo=(e,t)=>{if(rs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new tn(e.common.issues);return this._error=n,this._error}}};function F(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,i)=>s.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"?{message:r??i.defaultError}:{message:n??i.defaultError},description:a}}class ${constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Gt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Gt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Pe,ctx:{common:t.parent.common,data:t.data,parsedType:Gt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(as(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gt(t)},s=this._parseSync({data:t,path:a.path,parent:a});return mo(a,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gt(t)},a=this._parse({data:t,path:r.path,parent:r}),s=await(as(a)?a:Promise.resolve(a));return mo(r,s)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const i=t(a),o=()=>s.addIssue({code:b.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new mt({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Tt.create(this,this._def)}nullable(){return Cn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tt.create(this,this._def)}promise(){return Ur.create(this,this._def)}or(t){return Dr.create([this,t],this._def)}and(t){return Zr.create(this,t,this._def)}transform(t){return new mt({...F(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new zr({...F(this._def),innerType:this,defaultValue:n,typeName:j.ZodDefault})}brand(){return new Ih({typeName:j.ZodBranded,type:this,...F(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new os({...F(this._def),innerType:this,catchValue:n,typeName:j.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ms.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wh=/^c[^\s-]{8,}$/i,xh=/^[a-z][a-z0-9]*$/,kh=/[0-9A-HJKMNP-TV-Z]{26}/,Sh=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Th=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Eh=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Oh=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ph=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ch=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Rh(e,t){return!!((t==="v4"||!t)&&Oh.test(e)||(t==="v6"||!t)&&Ph.test(e))}class xt extends ${constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(a=>t.test(a),{validation:n,code:b.invalid_string,...I.errToObj(r)}),this.nonempty=t=>this.min(1,I.errToObj(t)),this.trim=()=>new xt({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new xt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new xt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==O.string){const a=this._getOrReturnCtx(t);return E(a,{code:b.invalid_type,expected:O.string,received:a.parsedType}),L}const n=new Pe;let r;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(r=this._getOrReturnCtx(t,r),E(r,{code:b.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(r=this._getOrReturnCtx(t,r),E(r,{code:b.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,i=t.data.length<a.value;(s||i)&&(r=this._getOrReturnCtx(t,r),s?E(r,{code:b.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&E(r,{code:b.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Th.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"email",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Eh.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"emoji",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Sh.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"uuid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")wh.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"cuid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")xh.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"cuid2",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")kh.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"ulid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),E(r,{validation:"url",code:b.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"regex",code:b.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(t,r),E(r,{code:b.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(r=this._getOrReturnCtx(t,r),E(r,{code:b.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(r=this._getOrReturnCtx(t,r),E(r,{code:b.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ch(a).test(t.data)||(r=this._getOrReturnCtx(t,r),E(r,{code:b.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?Rh(t.data,a.version)||(r=this._getOrReturnCtx(t,r),E(r,{validation:"ip",code:b.invalid_string,message:a.message}),n.dirty()):G.assertNever(a);return{status:n.value,value:t.data}}_addCheck(t){return new xt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...I.errToObj(t)})}url(t){return this._addCheck({kind:"url",...I.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...I.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...I.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...I.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...I.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...I.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...I.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...I.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...I.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...I.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...I.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...I.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...I.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...I.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...I.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}xt.create=e=>{var t;return new xt({checks:[],typeName:j.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...F(e)})};function Ah(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,s=parseInt(e.toFixed(a).replace(".","")),i=parseInt(t.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}class Kn extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==O.number){const a=this._getOrReturnCtx(t);return E(a,{code:b.invalid_type,expected:O.number,received:a.parsedType}),L}let n;const r=new Pe;for(const a of this._def.checks)a.kind==="int"?G.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),E(n,{code:b.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),E(n,{code:b.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),E(n,{code:b.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?Ah(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),E(n,{code:b.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),E(n,{code:b.not_finite,message:a.message}),r.dirty()):G.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,I.toString(n))}gt(t,n){return this.setLimit("min",t,!1,I.toString(n))}lte(t,n){return this.setLimit("max",t,!0,I.toString(n))}lt(t,n){return this.setLimit("max",t,!1,I.toString(n))}setLimit(t,n,r,a){return new Kn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:I.toString(a)}]})}_addCheck(t){return new Kn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:I.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:I.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:I.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&G.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Kn.create=e=>new Kn({checks:[],typeName:j.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...F(e)});class Gn extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==O.bigint){const a=this._getOrReturnCtx(t);return E(a,{code:b.invalid_type,expected:O.bigint,received:a.parsedType}),L}let n;const r=new Pe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),E(n,{code:b.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),E(n,{code:b.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),E(n,{code:b.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):G.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,I.toString(n))}gt(t,n){return this.setLimit("min",t,!1,I.toString(n))}lte(t,n){return this.setLimit("max",t,!0,I.toString(n))}lt(t,n){return this.setLimit("max",t,!1,I.toString(n))}setLimit(t,n,r,a){return new Gn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:I.toString(a)}]})}_addCheck(t){return new Gn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:I.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Gn.create=e=>{var t;return new Gn({checks:[],typeName:j.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...F(e)})};class ss extends ${_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==O.boolean){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.boolean,received:n.parsedType}),L}return Me(t.data)}}ss.create=e=>new ss({typeName:j.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...F(e)});class Nr extends ${_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==O.date){const a=this._getOrReturnCtx(t);return E(a,{code:b.invalid_type,expected:O.date,received:a.parsedType}),L}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return E(a,{code:b.invalid_date}),L}const n=new Pe;let r;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(r=this._getOrReturnCtx(t,r),E(r,{code:b.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(r=this._getOrReturnCtx(t,r),E(r,{code:b.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):G.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Nr({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:I.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:I.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Nr.create=e=>new Nr({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:j.ZodDate,...F(e)});class _o extends ${_parse(t){if(this._getType(t)!==O.symbol){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.symbol,received:n.parsedType}),L}return Me(t.data)}}_o.create=e=>new _o({typeName:j.ZodSymbol,...F(e)});class qr extends ${_parse(t){if(this._getType(t)!==O.undefined){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.undefined,received:n.parsedType}),L}return Me(t.data)}}qr.create=e=>new qr({typeName:j.ZodUndefined,...F(e)});class jr extends ${_parse(t){if(this._getType(t)!==O.null){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.null,received:n.parsedType}),L}return Me(t.data)}}jr.create=e=>new jr({typeName:j.ZodNull,...F(e)});class yo extends ${constructor(){super(...arguments),this._any=!0}_parse(t){return Me(t.data)}}yo.create=e=>new yo({typeName:j.ZodAny,...F(e)});class vo extends ${constructor(){super(...arguments),this._unknown=!0}_parse(t){return Me(t.data)}}vo.create=e=>new vo({typeName:j.ZodUnknown,...F(e)});class qt extends ${_parse(t){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.never,received:n.parsedType}),L}}qt.create=e=>new qt({typeName:j.ZodNever,...F(e)});class go extends ${_parse(t){if(this._getType(t)!==O.undefined){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.void,received:n.parsedType}),L}return Me(t.data)}}go.create=e=>new go({typeName:j.ZodVoid,...F(e)});class tt extends ${_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==O.array)return E(n,{code:b.invalid_type,expected:O.array,received:n.parsedType}),L;if(a.exactLength!==null){const i=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(i||o)&&(E(n,{code:i?b.too_big:b.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(E(n,{code:b.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(E(n,{code:b.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>a.type._parseAsync(new Nt(n,i,n.path,o)))).then(i=>Pe.mergeArray(r,i));const s=[...n.data].map((i,o)=>a.type._parseSync(new Nt(n,i,n.path,o)));return Pe.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new tt({...this._def,minLength:{value:t,message:I.toString(n)}})}max(t,n){return new tt({...this._def,maxLength:{value:t,message:I.toString(n)}})}length(t,n){return new tt({...this._def,exactLength:{value:t,message:I.toString(n)}})}nonempty(t){return this.min(1,t)}}tt.create=(e,t)=>new tt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...F(t)});function _n(e){if(e instanceof ie){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Tt.create(_n(r))}return new ie({...e._def,shape:()=>t})}else return e instanceof tt?new tt({...e._def,type:_n(e.element)}):e instanceof Tt?Tt.create(_n(e.unwrap())):e instanceof Cn?Cn.create(_n(e.unwrap())):e instanceof nn?nn.create(e.items.map(t=>_n(t))):e}class ie extends ${constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=G.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==O.object){const c=this._getOrReturnCtx(t);return E(c,{code:b.invalid_type,expected:O.object,received:c.parsedType}),L}const{status:n,ctx:r}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof qt&&this._def.unknownKeys==="strip"))for(const c in r.data)s.includes(c)||i.push(c);const o=[];for(const c of s){const u=a[c],d=r.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new Nt(r,d,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof qt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of i)o.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(c==="strict")i.length>0&&(E(r,{code:b.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of i){const d=r.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new Nt(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const d=await u.key;c.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Pe.mergeObjectSync(n,c)):Pe.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return I.errToObj,new ie({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,s,i,o;const c=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=I.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new ie({...this._def,unknownKeys:"strip"})}passthrough(){return new ie({...this._def,unknownKeys:"passthrough"})}extend(t){return new ie({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ie({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:j.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ie({...this._def,catchall:t})}pick(t){const n={};return G.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ie({...this._def,shape:()=>n})}omit(t){const n={};return G.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ie({...this._def,shape:()=>n})}deepPartial(){return _n(this)}partial(t){const n={};return G.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new ie({...this._def,shape:()=>n})}required(t){const n={};return G.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Tt;)a=a._def.innerType;n[r]=a}}),new ie({...this._def,shape:()=>n})}keyof(){return tc(G.objectKeys(this.shape))}}ie.create=(e,t)=>new ie({shape:()=>e,unknownKeys:"strip",catchall:qt.create(),typeName:j.ZodObject,...F(t)});ie.strictCreate=(e,t)=>new ie({shape:()=>e,unknownKeys:"strict",catchall:qt.create(),typeName:j.ZodObject,...F(t)});ie.lazycreate=(e,t)=>new ie({shape:e,unknownKeys:"strip",catchall:qt.create(),typeName:j.ZodObject,...F(t)});class Dr extends ${_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new tn(o.ctx.common.issues));return E(n,{code:b.invalid_union,unionErrors:i}),L}if(n.common.async)return Promise.all(r.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(c=>new tn(c));return E(n,{code:b.invalid_union,unionErrors:o}),L}}get options(){return this._def.options}}Dr.create=(e,t)=>new Dr({options:e,typeName:j.ZodUnion,...F(t)});const wr=e=>e instanceof Lr?wr(e.schema):e instanceof mt?wr(e.innerType()):e instanceof Fr?[e.value]:e instanceof rn?e.options:e instanceof Mr?Object.keys(e.enum):e instanceof zr?wr(e._def.innerType):e instanceof qr?[void 0]:e instanceof jr?[null]:null;class Fs extends ${_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==O.object)return E(n,{code:b.invalid_type,expected:O.object,received:n.parsedType}),L;const r=this.discriminator,a=n.data[r],s=this.optionsMap.get(a);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(E(n,{code:b.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const s of n){const i=wr(s.shape[t]);if(!i)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,s)}}return new Fs({typeName:j.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...F(r)})}}function is(e,t){const n=Gt(e),r=Gt(t);if(e===t)return{valid:!0,data:e};if(n===O.object&&r===O.object){const a=G.objectKeys(t),s=G.objectKeys(e).filter(o=>a.indexOf(o)!==-1),i={...e,...t};for(const o of s){const c=is(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===O.array&&r===O.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],o=t[s],c=is(i,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===O.date&&r===O.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zr extends ${_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(s,i)=>{if(fo(s)||fo(i))return L;const o=is(s.value,i.value);return o.valid?((ho(s)||ho(i))&&n.dirty(),{status:n.value,value:o.data}):(E(r,{code:b.invalid_intersection_types}),L)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zr.create=(e,t,n)=>new Zr({left:e,right:t,typeName:j.ZodIntersection,...F(n)});class nn extends ${_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==O.array)return E(r,{code:b.invalid_type,expected:O.array,received:r.parsedType}),L;if(r.data.length<this._def.items.length)return E(r,{code:b.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&r.data.length>this._def.items.length&&(E(r,{code:b.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,i)=>{const o=this._def.items[i]||this._def.rest;return o?o._parse(new Nt(r,s,r.path,i)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>Pe.mergeArray(n,s)):Pe.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new nn({...this._def,rest:t})}}nn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nn({items:e,typeName:j.ZodTuple,rest:null,...F(t)})};class bo extends ${_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==O.map)return E(r,{code:b.invalid_type,expected:O.map,received:r.parsedType}),L;const a=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([o,c],u)=>({key:a._parse(new Nt(r,o,r.path,[u,"key"])),value:s._parse(new Nt(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return L;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return L;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}bo.create=(e,t,n)=>new bo({valueType:t,keyType:e,typeName:j.ZodMap,...F(n)});class Hn extends ${_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==O.set)return E(r,{code:b.invalid_type,expected:O.set,received:r.parsedType}),L;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(E(r,{code:b.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(E(r,{code:b.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return L;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>s._parse(new Nt(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,n){return new Hn({...this._def,minSize:{value:t,message:I.toString(n)}})}max(t,n){return new Hn({...this._def,maxSize:{value:t,message:I.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Hn.create=(e,t)=>new Hn({valueType:e,minSize:null,maxSize:null,typeName:j.ZodSet,...F(t)});class Lr extends ${get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Lr.create=(e,t)=>new Lr({getter:e,typeName:j.ZodLazy,...F(t)});class Fr extends ${_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return E(n,{received:n.data,code:b.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:t.data}}get value(){return this._def.value}}Fr.create=(e,t)=>new Fr({value:e,typeName:j.ZodLiteral,...F(t)});function tc(e,t){return new rn({values:e,typeName:j.ZodEnum,...F(t)})}class rn extends ${_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return E(n,{expected:G.joinValues(r),received:n.parsedType,code:b.invalid_type}),L}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return E(n,{received:n.data,code:b.invalid_enum_value,options:r}),L}return Me(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return rn.create(t)}exclude(t){return rn.create(this.options.filter(n=>!t.includes(n)))}}rn.create=tc;class Mr extends ${_parse(t){const n=G.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==O.string&&r.parsedType!==O.number){const a=G.objectValues(n);return E(r,{expected:G.joinValues(a),received:r.parsedType,code:b.invalid_type}),L}if(n.indexOf(t.data)===-1){const a=G.objectValues(n);return E(r,{received:r.data,code:b.invalid_enum_value,options:a}),L}return Me(t.data)}get enum(){return this._def.values}}Mr.create=(e,t)=>new Mr({values:e,typeName:j.ZodNativeEnum,...F(t)});class Ur extends ${unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==O.promise&&n.common.async===!1)return E(n,{code:b.invalid_type,expected:O.promise,received:n.parsedType}),L;const r=n.parsedType===O.promise?n.data:Promise.resolve(n.data);return Me(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ur.create=(e,t)=>new Ur({type:e,typeName:j.ZodPromise,...F(t)});class mt extends ${innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null;if(a.type==="preprocess"){const i=a.transform(r.data);return r.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:i,path:r.path,parent:r})}const s={addIssue:i=>{E(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="refinement"){const i=o=>{const c=a.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?L:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?L:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!rs(i))return i;const o=a.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>rs(i)?Promise.resolve(a.transform(i.value,s)).then(o=>({status:n.value,value:o})):i);G.assertNever(a)}}mt.create=(e,t,n)=>new mt({schema:e,typeName:j.ZodEffects,effect:t,...F(n)});mt.createWithPreprocess=(e,t,n)=>new mt({schema:t,effect:{type:"preprocess",transform:e},typeName:j.ZodEffects,...F(n)});class Tt extends ${_parse(t){return this._getType(t)===O.undefined?Me(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Tt.create=(e,t)=>new Tt({innerType:e,typeName:j.ZodOptional,...F(t)});class Cn extends ${_parse(t){return this._getType(t)===O.null?Me(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cn.create=(e,t)=>new Cn({innerType:e,typeName:j.ZodNullable,...F(t)});class zr extends ${_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===O.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zr.create=(e,t)=>new zr({innerType:e,typeName:j.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...F(t)});class os extends ${_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return as(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new tn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new tn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}os.create=(e,t)=>new os({innerType:e,typeName:j.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...F(t)});class wo extends ${_parse(t){if(this._getType(t)!==O.nan){const n=this._getOrReturnCtx(t);return E(n,{code:b.invalid_type,expected:O.nan,received:n.parsedType}),L}return{status:"valid",value:t.data}}}wo.create=e=>new wo({typeName:j.ZodNaN,...F(e)});class Ih extends ${_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ms extends ${_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?L:a.status==="dirty"?(n.dirty(),bh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?L:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Ms({in:t,out:n,typeName:j.ZodPipeline})}}ie.lazycreate;var j;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(j||(j={}));const We=xt.create,qe=ss.create;qr.create;jr.create;qt.create;const Un=tt.create,ye=ie.create;ie.strictCreate;Dr.create;const nc=Fs.create;Zr.create;nn.create;Lr.create;const tr=Fr.create;rn.create;Mr.create;Ur.create;mt.create;Tt.create;Cn.create;mt.createWithPreprocess;const yn={persona:"persona",account:"account"},Nh=ye({challenge:We(),proof:Qn,address:We(),type:tr(yn.persona)}),qh=ye({challenge:We(),proof:Qn,address:We(),type:tr(yn.account)}),jh=nc("type",[Nh,qh]),Dh=ye({entry:tr("fullName"),fields:Eu}),Zh=ye({entry:tr("emailAddresses"),fields:Un(We())}),Lh=ye({entry:tr("phoneNumbers"),fields:Un(We())}),Fh=nc("entry",[Dh,Zh,Lh]),Mh=ye({accounts:Un(Tu),personaData:Un(Fh),persona:er.optional(),proofs:Un(jh)}),Uh=ye({persona:ye({proof:qe()}).optional(),ongoingAccounts:ye({numberOfAccounts:et.optional(),proof:qe()}).optional(),ongoingPersonaData:Ar.optional()}),zh=ye({loggedInTimestamp:We(),walletData:Mh,sharedData:Uh}),us={accounts:[],personaData:[],proofs:[],persona:void 0},Vh=()=>({walletData:new re(us),sharedData:new re({}),loggedInTimestamp:new re(""),initialized:new re(!1)});function Ta(e,t,n,r){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function Ea(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Vr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function Xt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var $h={withStackTrace:!1},rc=function(e,t,n){n===void 0&&(n=$h);var r=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},a=n.withStackTrace?new Error().stack:void 0;return{data:r,message:e,stack:a}},ce=function(){function e(t){this._promise=t}return e.fromSafePromise=function(t){var n=t.then(function(r){return new wt(r)});return new e(n)},e.fromPromise=function(t,n){var r=t.then(function(a){return new wt(a)}).catch(function(a){return new Ht(n(a))});return new e(r)},e.combine=function(t){return Wh(t)},e.combineWithAllErrors=function(t){return Kh(t)},e.prototype.map=function(t){var n=this;return new e(this._promise.then(function(r){return Ta(n,void 0,void 0,function(){var a;return Ea(this,function(s){switch(s.label){case 0:return r.isErr()?[2,new Ht(r.error)]:(a=wt.bind,[4,t(r.value)]);case 1:return[2,new(a.apply(wt,[void 0,s.sent()]))]}})})}))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then(function(r){return Ta(n,void 0,void 0,function(){var a;return Ea(this,function(s){switch(s.label){case 0:return r.isOk()?[2,new wt(r.value)]:(a=Ht.bind,[4,t(r.error)]);case 1:return[2,new(a.apply(Ht,[void 0,s.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(n){if(n.isErr())return new Ht(n.error);var r=t(n.value);return r instanceof e?r._promise:r}))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then(function(r){return Ta(n,void 0,void 0,function(){return Ea(this,function(a){return r.isErr()?[2,t(r.error)]:[2,new wt(r.value)]})})}))},e.prototype.match=function(t,n){return this._promise.then(function(r){return r.match(t,n)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(n){return n.unwrapOr(t)})},e.prototype.then=function(t,n){return this._promise.then(t,n)},e}(),xo=function(e){return new ce(Promise.resolve(new wt(e)))},ko=function(e){return new ce(Promise.resolve(new Ht(e)))};ce.fromPromise;ce.fromSafePromise;var Bh=function(e){return function(t){return Xt(Xt([],Vr(t),!1),[e],!1)}},ac=function(e){return e.reduce(function(t,n){return t.isOk()?n.isErr()?Ke(n.error):t.map(Bh(n.value)):t},he([]))},Wh=function(e){return ce.fromSafePromise(Promise.all(e)).andThen(ac)},sc=function(e){return e.reduce(function(t,n){return n.isErr()?t.isErr()?Ke(Xt(Xt([],Vr(t.error),!1),[n.error],!1)):Ke([n.error]):t.isErr()?t:he(Xt(Xt([],Vr(t.value),!1),[n.value],!1))},he([]))},Kh=function(e){return ce.fromSafePromise(Promise.all(e)).andThen(sc)},cs;(function(e){function t(a,s){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{var c=a.apply(void 0,Xt([],Vr(i),!1));return he(c)}catch(u){return Ke(s?s(u):u)}}}e.fromThrowable=t;function n(a){return ac(a)}e.combine=n;function r(a){return sc(a)}e.combineWithAllErrors=r})(cs||(cs={}));var he=function(e){return new wt(e)},Ke=function(e){return new Ht(e)},wt=function(){function e(t){this.value=t}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return he(t(this.value))},e.prototype.mapErr=function(t){return he(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return he(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return ce.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,n){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw rc("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),Ht=function(){function e(t){this.error=t}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return Ke(this.error)},e.prototype.mapErr=function(t){return Ke(t(this.error))},e.prototype.andThen=function(t){return Ke(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return ko(this.error)},e.prototype.asyncMap=function(t){return ko(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,n){return n(this.error)},e.prototype._unsafeUnwrap=function(t){throw rc("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}();cs.fromThrowable;var ic=Symbol.for("immer-nothing"),So=Symbol.for("immer-draftable"),Ce=Symbol.for("immer-state");function Be(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object.getPrototypeOf;function An(e){return!!e&&!!e[Ce]}function an(e){var t;return e?oc(e)||Array.isArray(e)||!!e[So]||!!((t=e.constructor)!=null&&t[So])||ta(e)||na(e):!1}var Gh=Object.prototype.constructor.toString();function oc(e){if(!e||typeof e!="object")return!1;const t=Rn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Gh}function Jn(e,t){ea(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function ea(e){const t=e[Ce];return t?t.type_:Array.isArray(e)?1:ta(e)?2:na(e)?3:0}function ls(e,t){return ea(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uc(e,t,n){const r=ea(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Hh(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ta(e){return e instanceof Map}function na(e){return e instanceof Set}function Bt(e){return e.copy_||e.base_}function ds(e,t){if(ta(e))return new Map(e);if(na(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&oc(e))return Rn(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Ce];let r=Reflect.ownKeys(n);for(let a=0;a<r.length;a++){const s=r[a],i=n[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[s]})}return Object.create(Rn(e),n)}function Us(e,t=!1){return ra(e)||An(e)||!an(e)||(ea(e)>1&&(e.set=e.add=e.clear=e.delete=Jh),Object.freeze(e),t&&Jn(e,(n,r)=>Us(r,!0))),e}function Jh(){Be(2)}function ra(e){return Object.isFrozen(e)}var Yh={};function sn(e){const t=Yh[e];return t||Be(0,e),t}var Yn;function cc(){return Yn}function Xh(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function To(e,t){t&&(sn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ps(e){fs(e),e.drafts_.forEach(Qh),e.drafts_=null}function fs(e){e===Yn&&(Yn=e.parent_)}function Eo(e){return Yn=Xh(Yn,e)}function Qh(e){const t=e[Ce];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Oo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ce].modified_&&(ps(t),Be(4)),an(e)&&(e=$r(t,e),t.parent_||Br(t,e)),t.patches_&&sn("Patches").generateReplacementPatches_(n[Ce].base_,e,t.patches_,t.inversePatches_)):e=$r(t,n,[]),ps(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ic?e:void 0}function $r(e,t,n){if(ra(t))return t;const r=t[Ce];if(!r)return Jn(t,(a,s)=>Po(e,r,t,a,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Br(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,i=!1;r.type_===3&&(s=new Set(a),a.clear(),i=!0),Jn(s,(o,c)=>Po(e,r,a,o,c,n,i)),Br(e,a,!1),n&&e.patches_&&sn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Po(e,t,n,r,a,s,i){if(An(a)){const o=s&&t&&t.type_!==3&&!ls(t.assigned_,r)?s.concat(r):void 0,c=$r(e,a,o);if(uc(n,r,c),An(c))e.canAutoFreeze_=!1;else return}else i&&n.add(a);if(an(a)&&!ra(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$r(e,a),(!t||!t.scope_.parent_)&&Br(e,a)}}function Br(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Us(t,n)}function em(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:cc(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=zs;n&&(a=[r],s=Xn);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return r.draft_=o,r.revoke_=i,o}var zs={get(e,t){if(t===Ce)return e;const n=Bt(e);if(!ls(n,t))return tm(e,n,t);const r=n[t];return e.finalized_||!an(r)?r:r===Oa(e.base_,t)?(Pa(e),e.copy_[t]=ms(r,e)):r},has(e,t){return t in Bt(e)},ownKeys(e){return Reflect.ownKeys(Bt(e))},set(e,t,n){const r=lc(Bt(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Oa(Bt(e),t),s=a==null?void 0:a[Ce];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Hh(n,a)&&(n!==void 0||ls(e.base_,t)))return!0;Pa(e),hs(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Oa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Pa(e),hs(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Be(11)},getPrototypeOf(e){return Rn(e.base_)},setPrototypeOf(){Be(12)}},Xn={};Jn(zs,(e,t)=>{Xn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xn.deleteProperty=function(e,t){return Xn.set.call(this,e,t,void 0)};Xn.set=function(e,t,n){return zs.set.call(this,e[0],t,n,e[0])};function Oa(e,t){const n=e[Ce];return(n?Bt(n):e)[t]}function tm(e,t,n){var r;const a=lc(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function lc(e,t){if(!(t in e))return;let n=Rn(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Rn(n)}}function hs(e){e.modified_||(e.modified_=!0,e.parent_&&hs(e.parent_))}function Pa(e){e.copy_||(e.copy_=ds(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nm=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(o=s,...c){return i.produce(o,u=>n.call(this,u,...c))}}typeof n!="function"&&Be(6),r!==void 0&&typeof r!="function"&&Be(7);let a;if(an(t)){const s=Eo(this),i=ms(t,void 0);let o=!0;try{a=n(i),o=!1}finally{o?ps(s):fs(s)}return To(s,r),Oo(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===ic&&(a=void 0),this.autoFreeze_&&Us(a,!0),r){const s=[],i=[];sn("Patches").generateReplacementPatches_(t,a,s,i),r(s,i)}return a}else Be(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...i)=>this.produceWithPatches(s,o=>t(o,...i));let r,a;return[this.produce(t,n,(s,i)=>{r=s,a=i}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){an(e)||Be(8),An(e)&&(e=rm(e));const t=Eo(this),n=ms(e,void 0);return n[Ce].isManual_=!0,fs(t),n}finishDraft(e,t){const n=e&&e[Ce];(!n||!n.isManual_)&&Be(9);const{scope_:r}=n;return To(r,t),Oo(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=sn("Patches").applyPatches_;return An(e)?r(e,t):this.produce(e,a=>r(a,t))}};function ms(e,t){const n=ta(e)?sn("MapSet").proxyMap_(e,t):na(e)?sn("MapSet").proxySet_(e,t):em(e,t);return(t?t.scope_:cc()).drafts_.push(n),n}function rm(e){return An(e)||Be(10,e),dc(e)}function dc(e){if(!an(e)||ra(e))return e;const t=e[Ce];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ds(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ds(e,!0);return Jn(n,(r,a)=>{uc(n,r,dc(a))}),t&&(t.finalized_=!1),n}var Re=new nm,ae=Re.produce;Re.produceWithPatches.bind(Re);Re.setAutoFreeze.bind(Re);Re.setUseStrictShallowCopy.bind(Re);Re.applyPatches.bind(Re);Re.createDraft.bind(Re);Re.finishDraft.bind(Re);var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wr={exports:{}};Wr.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",a=1,s=2,i=9007199254740991,o="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",h="[object Error]",g="[object Function]",R="[object GeneratorFunction]",_="[object Map]",x="[object Number]",S="[object Null]",N="[object Object]",y="[object Promise]",q="[object Proxy]",X="[object RegExp]",te="[object Set]",de="[object String]",W="[object Symbol]",Ue="[object Undefined]",Dt="[object WeakMap]",ln="[object ArrayBuffer]",yt="[object DataView]",k="[object Float32Array]",ue="[object Float64Array]",Se="[object Int8Array]",it="[object Int16Array]",dn="[object Int32Array]",Nn="[object Uint8Array]",aa="[object Uint8ClampedArray]",sa="[object Uint16Array]",Oc="[object Uint32Array]",Pc=/[\\^$.*+?()[\]{}|]/g,Cc=/^\[object .+?Constructor\]$/,Rc=/^(?:0|[1-9]\d*)$/,Q={};Q[k]=Q[ue]=Q[Se]=Q[it]=Q[dn]=Q[Nn]=Q[aa]=Q[sa]=Q[Oc]=!0,Q[o]=Q[c]=Q[ln]=Q[d]=Q[yt]=Q[f]=Q[h]=Q[g]=Q[_]=Q[x]=Q[N]=Q[X]=Q[te]=Q[de]=Q[Dt]=!1;var Ks=typeof mr=="object"&&mr&&mr.Object===Object&&mr,Ac=typeof self=="object"&&self&&self.Object===Object&&self,ot=Ks||Ac||Function("return this")(),Gs=t&&!t.nodeType&&t,Hs=Gs&&!0&&e&&!e.nodeType&&e,Js=Hs&&Hs.exports===Gs,ia=Js&&Ks.process,Ys=function(){try{return ia&&ia.binding&&ia.binding("util")}catch{}}(),Xs=Ys&&Ys.isTypedArray;function Ic(l,p){for(var m=-1,T=l==null?0:l.length,ee=0,Z=[];++m<T;){var se=l[m];p(se,m,l)&&(Z[ee++]=se)}return Z}function Nc(l,p){for(var m=-1,T=p.length,ee=l.length;++m<T;)l[ee+m]=p[m];return l}function qc(l,p){for(var m=-1,T=l==null?0:l.length;++m<T;)if(p(l[m],m,l))return!0;return!1}function jc(l,p){for(var m=-1,T=Array(l);++m<l;)T[m]=p(m);return T}function Dc(l){return function(p){return l(p)}}function Zc(l,p){return l.has(p)}function Lc(l,p){return l==null?void 0:l[p]}function Fc(l){var p=-1,m=Array(l.size);return l.forEach(function(T,ee){m[++p]=[ee,T]}),m}function Mc(l,p){return function(m){return l(p(m))}}function Uc(l){var p=-1,m=Array(l.size);return l.forEach(function(T){m[++p]=T}),m}var zc=Array.prototype,Vc=Function.prototype,rr=Object.prototype,oa=ot["__core-js_shared__"],Qs=Vc.toString,Je=rr.hasOwnProperty,ei=function(){var l=/[^.]+$/.exec(oa&&oa.keys&&oa.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),ti=rr.toString,$c=RegExp("^"+Qs.call(Je).replace(Pc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ni=Js?ot.Buffer:void 0,ar=ot.Symbol,ri=ot.Uint8Array,ai=rr.propertyIsEnumerable,Bc=zc.splice,Zt=ar?ar.toStringTag:void 0,si=Object.getOwnPropertySymbols,Wc=ni?ni.isBuffer:void 0,Kc=Mc(Object.keys,Object),ua=pn(ot,"DataView"),qn=pn(ot,"Map"),ca=pn(ot,"Promise"),la=pn(ot,"Set"),da=pn(ot,"WeakMap"),jn=pn(Object,"create"),Gc=Mt(ua),Hc=Mt(qn),Jc=Mt(ca),Yc=Mt(la),Xc=Mt(da),ii=ar?ar.prototype:void 0,pa=ii?ii.valueOf:void 0;function Lt(l){var p=-1,m=l==null?0:l.length;for(this.clear();++p<m;){var T=l[p];this.set(T[0],T[1])}}function Qc(){this.__data__=jn?jn(null):{},this.size=0}function el(l){var p=this.has(l)&&delete this.__data__[l];return this.size-=p?1:0,p}function tl(l){var p=this.__data__;if(jn){var m=p[l];return m===r?void 0:m}return Je.call(p,l)?p[l]:void 0}function nl(l){var p=this.__data__;return jn?p[l]!==void 0:Je.call(p,l)}function rl(l,p){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=jn&&p===void 0?r:p,this}Lt.prototype.clear=Qc,Lt.prototype.delete=el,Lt.prototype.get=tl,Lt.prototype.has=nl,Lt.prototype.set=rl;function ut(l){var p=-1,m=l==null?0:l.length;for(this.clear();++p<m;){var T=l[p];this.set(T[0],T[1])}}function al(){this.__data__=[],this.size=0}function sl(l){var p=this.__data__,m=ir(p,l);if(m<0)return!1;var T=p.length-1;return m==T?p.pop():Bc.call(p,m,1),--this.size,!0}function il(l){var p=this.__data__,m=ir(p,l);return m<0?void 0:p[m][1]}function ol(l){return ir(this.__data__,l)>-1}function ul(l,p){var m=this.__data__,T=ir(m,l);return T<0?(++this.size,m.push([l,p])):m[T][1]=p,this}ut.prototype.clear=al,ut.prototype.delete=sl,ut.prototype.get=il,ut.prototype.has=ol,ut.prototype.set=ul;function Ft(l){var p=-1,m=l==null?0:l.length;for(this.clear();++p<m;){var T=l[p];this.set(T[0],T[1])}}function cl(){this.size=0,this.__data__={hash:new Lt,map:new(qn||ut),string:new Lt}}function ll(l){var p=or(this,l).delete(l);return this.size-=p?1:0,p}function dl(l){return or(this,l).get(l)}function pl(l){return or(this,l).has(l)}function fl(l,p){var m=or(this,l),T=m.size;return m.set(l,p),this.size+=m.size==T?0:1,this}Ft.prototype.clear=cl,Ft.prototype.delete=ll,Ft.prototype.get=dl,Ft.prototype.has=pl,Ft.prototype.set=fl;function sr(l){var p=-1,m=l==null?0:l.length;for(this.__data__=new Ft;++p<m;)this.add(l[p])}function hl(l){return this.__data__.set(l,r),this}function ml(l){return this.__data__.has(l)}sr.prototype.add=sr.prototype.push=hl,sr.prototype.has=ml;function vt(l){var p=this.__data__=new ut(l);this.size=p.size}function _l(){this.__data__=new ut,this.size=0}function yl(l){var p=this.__data__,m=p.delete(l);return this.size=p.size,m}function vl(l){return this.__data__.get(l)}function gl(l){return this.__data__.has(l)}function bl(l,p){var m=this.__data__;if(m instanceof ut){var T=m.__data__;if(!qn||T.length<n-1)return T.push([l,p]),this.size=++m.size,this;m=this.__data__=new Ft(T)}return m.set(l,p),this.size=m.size,this}vt.prototype.clear=_l,vt.prototype.delete=yl,vt.prototype.get=vl,vt.prototype.has=gl,vt.prototype.set=bl;function wl(l,p){var m=ur(l),T=!m&&Dl(l),ee=!m&&!T&&fa(l),Z=!m&&!T&&!ee&&mi(l),se=m||T||ee||Z,pe=se?jc(l.length,String):[],_e=pe.length;for(var ne in l)(p||Je.call(l,ne))&&!(se&&(ne=="length"||ee&&(ne=="offset"||ne=="parent")||Z&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Al(ne,_e)))&&pe.push(ne);return pe}function ir(l,p){for(var m=l.length;m--;)if(di(l[m][0],p))return m;return-1}function xl(l,p,m){var T=p(l);return ur(l)?T:Nc(T,m(l))}function Dn(l){return l==null?l===void 0?Ue:S:Zt&&Zt in Object(l)?Cl(l):jl(l)}function oi(l){return Zn(l)&&Dn(l)==o}function ui(l,p,m,T,ee){return l===p?!0:l==null||p==null||!Zn(l)&&!Zn(p)?l!==l&&p!==p:kl(l,p,m,T,ui,ee)}function kl(l,p,m,T,ee,Z){var se=ur(l),pe=ur(p),_e=se?c:gt(l),ne=pe?c:gt(p);_e=_e==o?N:_e,ne=ne==o?N:ne;var Te=_e==N,ze=ne==N,ge=_e==ne;if(ge&&fa(l)){if(!fa(p))return!1;se=!0,Te=!1}if(ge&&!Te)return Z||(Z=new vt),se||mi(l)?ci(l,p,m,T,ee,Z):Ol(l,p,_e,m,T,ee,Z);if(!(m&a)){var Ae=Te&&Je.call(l,"__wrapped__"),Ie=ze&&Je.call(p,"__wrapped__");if(Ae||Ie){var bt=Ae?l.value():l,ct=Ie?p.value():p;return Z||(Z=new vt),ee(bt,ct,m,T,Z)}}return ge?(Z||(Z=new vt),Pl(l,p,m,T,ee,Z)):!1}function Sl(l){if(!hi(l)||Nl(l))return!1;var p=pi(l)?$c:Cc;return p.test(Mt(l))}function Tl(l){return Zn(l)&&fi(l.length)&&!!Q[Dn(l)]}function El(l){if(!ql(l))return Kc(l);var p=[];for(var m in Object(l))Je.call(l,m)&&m!="constructor"&&p.push(m);return p}function ci(l,p,m,T,ee,Z){var se=m&a,pe=l.length,_e=p.length;if(pe!=_e&&!(se&&_e>pe))return!1;var ne=Z.get(l);if(ne&&Z.get(p))return ne==p;var Te=-1,ze=!0,ge=m&s?new sr:void 0;for(Z.set(l,p),Z.set(p,l);++Te<pe;){var Ae=l[Te],Ie=p[Te];if(T)var bt=se?T(Ie,Ae,Te,p,l,Z):T(Ae,Ie,Te,l,p,Z);if(bt!==void 0){if(bt)continue;ze=!1;break}if(ge){if(!qc(p,function(ct,Ut){if(!Zc(ge,Ut)&&(Ae===ct||ee(Ae,ct,m,T,Z)))return ge.push(Ut)})){ze=!1;break}}else if(!(Ae===Ie||ee(Ae,Ie,m,T,Z))){ze=!1;break}}return Z.delete(l),Z.delete(p),ze}function Ol(l,p,m,T,ee,Z,se){switch(m){case yt:if(l.byteLength!=p.byteLength||l.byteOffset!=p.byteOffset)return!1;l=l.buffer,p=p.buffer;case ln:return!(l.byteLength!=p.byteLength||!Z(new ri(l),new ri(p)));case d:case f:case x:return di(+l,+p);case h:return l.name==p.name&&l.message==p.message;case X:case de:return l==p+"";case _:var pe=Fc;case te:var _e=T&a;if(pe||(pe=Uc),l.size!=p.size&&!_e)return!1;var ne=se.get(l);if(ne)return ne==p;T|=s,se.set(l,p);var Te=ci(pe(l),pe(p),T,ee,Z,se);return se.delete(l),Te;case W:if(pa)return pa.call(l)==pa.call(p)}return!1}function Pl(l,p,m,T,ee,Z){var se=m&a,pe=li(l),_e=pe.length,ne=li(p),Te=ne.length;if(_e!=Te&&!se)return!1;for(var ze=_e;ze--;){var ge=pe[ze];if(!(se?ge in p:Je.call(p,ge)))return!1}var Ae=Z.get(l);if(Ae&&Z.get(p))return Ae==p;var Ie=!0;Z.set(l,p),Z.set(p,l);for(var bt=se;++ze<_e;){ge=pe[ze];var ct=l[ge],Ut=p[ge];if(T)var _i=se?T(Ut,ct,ge,p,l,Z):T(ct,Ut,ge,l,p,Z);if(!(_i===void 0?ct===Ut||ee(ct,Ut,m,T,Z):_i)){Ie=!1;break}bt||(bt=ge=="constructor")}if(Ie&&!bt){var cr=l.constructor,lr=p.constructor;cr!=lr&&"constructor"in l&&"constructor"in p&&!(typeof cr=="function"&&cr instanceof cr&&typeof lr=="function"&&lr instanceof lr)&&(Ie=!1)}return Z.delete(l),Z.delete(p),Ie}function li(l){return xl(l,Fl,Rl)}function or(l,p){var m=l.__data__;return Il(p)?m[typeof p=="string"?"string":"hash"]:m.map}function pn(l,p){var m=Lc(l,p);return Sl(m)?m:void 0}function Cl(l){var p=Je.call(l,Zt),m=l[Zt];try{l[Zt]=void 0;var T=!0}catch{}var ee=ti.call(l);return T&&(p?l[Zt]=m:delete l[Zt]),ee}var Rl=si?function(l){return l==null?[]:(l=Object(l),Ic(si(l),function(p){return ai.call(l,p)}))}:Ml,gt=Dn;(ua&&gt(new ua(new ArrayBuffer(1)))!=yt||qn&&gt(new qn)!=_||ca&&gt(ca.resolve())!=y||la&&gt(new la)!=te||da&&gt(new da)!=Dt)&&(gt=function(l){var p=Dn(l),m=p==N?l.constructor:void 0,T=m?Mt(m):"";if(T)switch(T){case Gc:return yt;case Hc:return _;case Jc:return y;case Yc:return te;case Xc:return Dt}return p});function Al(l,p){return p=p??i,!!p&&(typeof l=="number"||Rc.test(l))&&l>-1&&l%1==0&&l<p}function Il(l){var p=typeof l;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?l!=="__proto__":l===null}function Nl(l){return!!ei&&ei in l}function ql(l){var p=l&&l.constructor,m=typeof p=="function"&&p.prototype||rr;return l===m}function jl(l){return ti.call(l)}function Mt(l){if(l!=null){try{return Qs.call(l)}catch{}try{return l+""}catch{}}return""}function di(l,p){return l===p||l!==l&&p!==p}var Dl=oi(function(){return arguments}())?oi:function(l){return Zn(l)&&Je.call(l,"callee")&&!ai.call(l,"callee")},ur=Array.isArray;function Zl(l){return l!=null&&fi(l.length)&&!pi(l)}var fa=Wc||Ul;function Ll(l,p){return ui(l,p)}function pi(l){if(!hi(l))return!1;var p=Dn(l);return p==g||p==R||p==u||p==q}function fi(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=i}function hi(l){var p=typeof l;return l!=null&&(p=="object"||p=="function")}function Zn(l){return l!=null&&typeof l=="object"}var mi=Xs?Dc(Xs):Tl;function Fl(l){return Zl(l)?wl(l):El(l)}function Ml(){return[]}function Ul(){return!1}e.exports=Ll})(Wr,Wr.exports);var sm=Wr.exports;const _s=am(sm),im=(e,t,n)=>{const r=n.logger,a=n.subjects??Vh(),s=new at,i=Ni([a.walletData,a.sharedData,a.loggedInTimestamp]).pipe(Xe(([h,g,R])=>({walletData:h,sharedData:g,loggedInTimestamp:R}))),o=()=>t.getData(e).map(h=>(h&&(r==null||r.debug("readFromStorage")),h)),c=h=>t.setData(e,ae(h,g=>{g.walletData.proofs=[]})).map(()=>{r==null||r.trace("writeToStorage",h)}),u=h=>{const{walletData:g,sharedData:R,loggedInTimestamp:_}=h;g&&!_s(a.walletData.value,g)&&a.walletData.next(g),R&&a.sharedData.next(R),_!==void 0&&a.loggedInTimestamp.next(_)},d=()=>{_s(a.walletData.value,us)||a.walletData.next(us),a.sharedData.next({}),a.loggedInTimestamp.next("")};o().andThen(h=>ce.fromPromise(zh.parseAsync(h),g=>g)).mapErr(()=>{r==null||r.debug("loadedCorruptedStateFromStorage"),d()}).map(h=>{if(h)return r==null||r.debug("initializeStateFromStorage"),u(ae(h,g=>(g.walletData.persona=g.walletData.persona??void 0,g)));r==null||r.debug("initializeStateFromDefault"),d()}),s.add(i.pipe(pt(c)).subscribe()),s.add(i.pipe(mp(1),mu(),V(()=>{a.initialized.next(!0)})).subscribe());const f=()=>({walletData:a.walletData.value,sharedData:a.sharedData.value,loggedInTimestamp:a.loggedInTimestamp.value});return{setState:u,getState:f,walletData$:Ni([a.initialized,a.walletData]).pipe(lp(1),ht(([h])=>h),Xe(()=>a.walletData.value)),getWalletData:()=>a.walletData.value,state$:a.initialized.pipe(ht(h=>h),pt(()=>i)),patchState:h=>{u({...f(),...h})},reset:d,stateInitialized$:a.initialized.asObservable(),destroy:()=>{d(),s.unsubscribe()}}},om=()=>({onConnect:new Ee,onDisconnect:new Ee,onUpdateSharedData:new Ee,connected:new Ed(1),requestItems:new re([]),onCancelRequestItem:new Ee,accounts:new re([]),onShowPopover:new Ee,status:new re("default"),loggedInTimestamp:new re(""),isMobile:new re(!1),isWalletLinked:new re(!1),isExtensionAvailable:new re(!1),fullWidth:new re(!1),activeTab:new re("sharing"),mode:new re("light"),theme:new re("radix-blue"),avatarUrl:new re(""),personaLabel:new re(""),personaData:new re([]),dAppName:new re(""),onLinkClick:new Ee}),um=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(globalThis.navigator?globalThis.navigator.userAgent:""),cm=e=>{Gl(()=>import("./connect-button-bebb7810.9db7734e.js"),[],import.meta.url);const t=e.subjects||om(),n=e.logger,r=o=>{o()},a=e.onConnect||r,s=()=>document.querySelector("radix-connect-button"),i=new at;return i.add(Ye(document,"onRender").pipe(Xe(()=>s()),ht(o=>!!o),pt(o=>{n==null||n.debug("connectButtonDiscovered");const c=Ye(o,"onConnect").pipe(V(()=>{a(k=>{!o.isWalletLinked||!o.isExtensionAvailable||t.onConnect.next(k)})})),u=Ye(o,"onDisconnect").pipe(V(()=>{t.onDisconnect.next()})),d=Ye(o,"onLinkClick").pipe(V(k=>{t.onLinkClick.next(k.detail)})),f=Ye(o,"onDestroy").pipe(V(()=>{n==null||n.debug("connectButtonRemovedFromDOM")})),h=Ye(o,"onCancelRequestItem").pipe(V(k=>{const ue=k.detail.id;n==null||n.debug("onCancelRequestItem",{id:ue}),t.onCancelRequestItem.next(ue)})),g=Ye(o,"onUpdateSharedData").pipe(V(()=>{n==null||n.debug("onUpdateSharedData"),t.onUpdateSharedData.next()})),R=Ye(o,"onShowPopover").pipe(V(()=>{t.onShowPopover.next()})),_=t.status.pipe(V(k=>o.status=k)),x=t.mode.pipe(V(k=>o.mode=k)),S=t.connected.pipe(V(k=>{o.connected=k})),N=t.isMobile.pipe(V(k=>{o.isMobile=k})),y=t.isWalletLinked.pipe(V(k=>{o.isWalletLinked=k})),q=t.isExtensionAvailable.pipe(V(k=>{o.isExtensionAvailable=k})),X=t.loggedInTimestamp.pipe(V(k=>{o.loggedInTimestamp=k})),te=t.activeTab.pipe(V(k=>{o.activeTab=k})),de=t.requestItems.pipe(V(k=>{o.requestItems=k})),W=t.accounts.pipe(V(k=>{o.accounts=k})),Ue=t.personaData.pipe(V(k=>{o.personaData=k})),Dt=t.personaLabel.pipe(V(k=>{o.personaLabel=k})),ln=t.dAppName.pipe(V(k=>{o.dAppName=k})),yt=t.theme.pipe(V(k=>{o.theme=k}));return Vn(c,_,yt,x,S,de,X,N,te,y,q,u,h,W,Ue,Dt,f,g,R,ln,d)})).subscribe()),{status$:t.status.asObservable(),onConnect$:t.onConnect.asObservable(),onDisconnect$:t.onDisconnect.asObservable(),onShowPopover$:t.onShowPopover.asObservable(),onUpdateSharedData$:t.onUpdateSharedData.asObservable(),onCancelRequestItem$:t.onCancelRequestItem.asObservable(),onLinkClick$:t.onLinkClick.asObservable(),setStatus:o=>t.status.next(o),setTheme:o=>t.theme.next(o),setMode:o=>t.mode.next(o),setActiveTab:o=>t.activeTab.next(o),setIsMobile:o=>t.isMobile.next(o),setIsWalletLinked:o=>t.isWalletLinked.next(o),setIsExtensionAvailable:o=>t.isExtensionAvailable.next(o),setLoggedInTimestamp:o=>t.loggedInTimestamp.next(o),setConnected:o=>t.connected.next(o),setRequestItems:o=>t.requestItems.next(o),setAccounts:o=>t.accounts.next(o),setPersonaData:o=>t.personaData.next(o),setPersonaLabel:o=>t.personaLabel.next(o),setDappName:o=>t.dAppName.next(o),disconnect:()=>{t.connected.next(!1),t.status.next("default")},destroy:()=>{i.unsubscribe()}}};var lm=Object.defineProperty,dm=(e,t,n)=>t in e?lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t,n)=>(dm(e,typeof t!="symbol"?t+"":t,n),n);const pm="https://mainnet.radixdlt.com".replace(/\/+$/,"");class pc{constructor(t={}){this.configuration=t}set config(t){this.configuration=t}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:pm}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||fc}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const t=this.configuration.apiKey;if(t)return typeof t=="function"?t:()=>t}get accessToken(){const t=this.configuration.accessToken;if(t)return typeof t=="function"?t:async()=>t}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const fm=new pc;class nr{constructor(t=fm){$e(this,"middleware"),$e(this,"fetchApi",async(n,r)=>{let a={url:n,init:r};for(const i of this.middleware)i.pre&&(a=await i.pre({fetch:this.fetchApi,...a})||a);let s;try{s=await(this.configuration.fetchApi||fetch)(a.url,a.init)}catch(i){for(const o of this.middleware)o.onError&&(s=await o.onError({fetch:this.fetchApi,url:a.url,init:a.init,error:i,response:s?s.clone():void 0})||s);if(s===void 0)throw i}for(const i of this.middleware)i.post&&(s=await i.post({fetch:this.fetchApi,url:a.url,init:a.init,response:s.clone()})||s);return s}),this.configuration=t,this.middleware=t.middleware}withMiddleware(...t){const n=this.clone();return n.middleware=n.middleware.concat(...t),n}withPreMiddleware(...t){const n=t.map(r=>({pre:r}));return this.withMiddleware(...n)}withPostMiddleware(...t){const n=t.map(r=>({post:r}));return this.withMiddleware(...n)}async request(t,n){const{url:r,init:a}=await this.createFetchParams(t,n),s=await this.fetchApi(r,a);if(s&&s.status>=200&&s.status<300)return s;throw await Kr.from(s)}async createFetchParams(t,n){let r=this.configuration.basePath+t.path;t.query!==void 0&&Object.keys(t.query).length!==0&&(r+="?"+this.configuration.queryParamsStringify(t.query));const a=Object.assign({},this.configuration.headers,t.headers);Object.keys(a).forEach(u=>a[u]===void 0?delete a[u]:{});const s=typeof n=="function"?n:async()=>n,i={method:t.method,headers:a,body:t.body,credentials:this.configuration.credentials},o={...i,...await s({init:i,context:t})},c={...o,body:mm(o.body)||o.body instanceof URLSearchParams||hm(o.body)?o.body:JSON.stringify(o.body)};return{url:r,init:c}}clone(){const t=this.constructor,n=new t(this.configuration);return n.middleware=this.middleware.slice(),n}}function hm(e){return typeof Blob<"u"&&e instanceof Blob}function mm(e){return typeof FormData<"u"&&e instanceof FormData}class Kr extends Error{constructor(t,n,r){super(r?JSON.stringify(r):"Unknown error occurred"),$e(this,"name","ResponseError"),this.fetchResponse=t,this.status=n,this.errorResponse=r}static async from(t){const n=t.status;try{const r=await t.json();return new Kr(t,n,r)}catch{return new Kr(t,n,void 0)}}}class fe extends Error{constructor(t,n){super(n),$e(this,"name","RequiredError"),this.field=t}}function v(e,t){return e[t]!=null}function fc(e,t=""){return Object.keys(e).map(n=>hc(n,e[n],t)).filter(n=>n.length>0).join("&")}function hc(e,t,n=""){const r=n+(n.length?`[${e}]`:e);if(t instanceof Array){const a=t.map(s=>encodeURIComponent(String(s))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${a}`}if(t instanceof Set){const a=Array.from(t);return hc(e,a,n)}return t instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?fc(t,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(t))}`}class oe{constructor(t,n=r=>r){this.raw=t,this.transformer=n}async value(){return this.transformer(await this.raw.json())}}function ve(e){if(e!==void 0)return e===null?null:{state_version:e.state_version,timestamp:e.timestamp===void 0?void 0:e.timestamp===null?null:e.timestamp.toISOString(),epoch:e.epoch,round:e.round}}function _m(e){return ym(e)}function ym(e,t){return e==null?e:{name:e.name,emitter:e.emitter,data:e.data}}function vm(e){return gm(e)}function gm(e,t){return e==null?e:{status:v(e,"status")?e.status:void 0,fee_summary:v(e,"fee_summary")?e.fee_summary:void 0,costing_parameters:v(e,"costing_parameters")?e.costing_parameters:void 0,fee_destination:v(e,"fee_destination")?e.fee_destination:void 0,fee_source:v(e,"fee_source")?e.fee_source:void 0,state_updates:v(e,"state_updates")?e.state_updates:void 0,next_epoch:v(e,"next_epoch")?e.next_epoch:void 0,output:v(e,"output")?e.output:void 0,events:v(e,"events")?e.events.map(_m):void 0,error_message:v(e,"error_message")?e.error_message:void 0}}const Co={Unknown:"Unknown",CommittedSuccess:"CommittedSuccess",CommittedFailure:"CommittedFailure",Pending:"Pending",Rejected:"Rejected"};function Vs(e){return bm(e)}function bm(e,t){return e}function mc(e){return wm(e)}function wm(e,t){return e==null?e:{state_version:e.state_version,epoch:e.epoch,round:e.round,round_timestamp:e.round_timestamp,transaction_status:Vs(e.transaction_status),payload_hash:v(e,"payload_hash")?e.payload_hash:void 0,intent_hash:v(e,"intent_hash")?e.intent_hash:void 0,fee_paid:v(e,"fee_paid")?e.fee_paid:void 0,affected_global_entities:v(e,"affected_global_entities")?e.affected_global_entities:void 0,confirmed_at:v(e,"confirmed_at")?e.confirmed_at===null?null:new Date(e.confirmed_at):void 0,error_message:v(e,"error_message")?e.error_message:void 0,raw_hex:v(e,"raw_hex")?e.raw_hex:void 0,receipt:v(e,"receipt")?vm(e.receipt):void 0,message:v(e,"message")?e.message:void 0}}function xm(e){return km(e)}function km(e,t){return e}function Sm(e){return Tm(e)}function Tm(e,t){return e==null?e:{resolution:xm(e.resolution),explicit_rule:v(e,"explicit_rule")?e.explicit_rule:void 0}}function Em(e){return Om(e)}function Om(e,t){return e}function Ro(e){return Pm(e)}function Pm(e,t){return e==null?e:{name:e.name,module:Em(e.module)}}function Cm(e){return Rm(e)}function Rm(e,t){return e==null?e:{role_key:Ro(e.role_key),assignment:Sm(e.assignment),updater_roles:v(e,"updater_roles")?e.updater_roles.map(Ro):void 0}}function $s(e){return Am(e)}function Am(e,t){return e==null?e:{owner:e.owner,entries:e.entries.map(Cm)}}function Im(e,t){return e==null?e:{type:e.type,values:e.values}}function Nm(e,t){return e==null?e:{type:e.type,value:e.value}}function qm(e,t){return e==null?e:{type:e.type,values:e.values}}function jm(e,t){return e==null?e:{type:e.type,value:e.value}}function Dm(e,t){return e==null?e:{type:e.type,values:e.values}}function Zm(e,t){return e==null?e:{type:e.type,value:e.value}}function Lm(e,t){return e==null?e:{type:e.type,values:e.values}}function Fm(e,t){return e==null?e:{type:e.type,value:e.value}}function Mm(e,t){return e==null?e:{type:e.type,values:e.values}}function Um(e,t){return e==null?e:{type:e.type,value:e.value}}function zm(e,t){return e==null?e:{type:e.type,values:e.values}}function Vm(e,t){return e==null?e:{type:e.type,value:e.value}}function $m(e){return Bm(e)}function Bm(e,t){return e==null?e:{resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function Wm(e,t){return e==null?e:{type:e.type,values:e.values.map($m)}}function Km(e,t){return e==null?e:{type:e.type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function Gm(e,t){return e==null?e:{type:e.type,values:e.values}}function Hm(e,t){return e==null?e:{type:e.type,value:e.value}}function Jm(e,t){return e==null?e:{type:e.type,values:e.values}}function Ym(e,t){return e==null?e:{type:e.type,value:e.value}}function Xm(e,t){return e==null?e:{key_type:e.key_type,key_hex:e.key_hex}}function Qm(e){if(e!==void 0)return e===null?null:{key_type:e.key_type,key_hex:e.key_hex}}function e_(e,t){return e==null?e:{key_type:e.key_type,key_hex:e.key_hex}}function t_(e){if(e!==void 0)return e===null?null:{key_type:e.key_type,key_hex:e.key_hex}}function Bs(e){return n_(e)}function n_(e,t){if(e==null)return e;switch(e.key_type){case"EcdsaSecp256k1":return{...Xm(e),key_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...e_(e),key_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}function Ao(e){if(e!==void 0){if(e===null)return null;switch(e.key_type){case"EcdsaSecp256k1":return Qm(e);case"EddsaEd25519":return t_(e);default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}}function r_(e,t){return e==null?e:{type:e.type,values:e.values.map(Bs)}}function a_(e,t){return e==null?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function s_(e,t){return e==null?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function _c(e){return i_(e)}function i_(e,t){if(e==null)return e;switch(e.key_hash_type){case"EcdsaSecp256k1":return{...a_(e),key_hash_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...s_(e),key_hash_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKeyHash exists with 'key_hash_type=${e.key_hash_type}'`)}}function o_(e,t){return e==null?e:{type:e.type,values:e.values.map(_c)}}function u_(e,t){return e==null?e:{type:e.type,value:_c(e.value)}}function c_(e,t){return e==null?e:{type:e.type,value:Bs(e.value)}}function l_(e,t){return e==null?e:{type:e.type,values:e.values}}function d_(e,t){return e==null?e:{type:e.type,value:e.value}}function p_(e,t){return e==null?e:{type:e.type,values:e.values}}function f_(e,t){return e==null?e:{type:e.type,value:e.value}}function h_(e,t){return e==null?e:{type:e.type,values:e.values}}function m_(e,t){return e==null?e:{type:e.type,value:e.value}}function __(e,t){return e==null?e:{type:e.type,value_hex:e.value_hex}}function y_(e,t){return e==null?e:{type:e.type,value:e.value}}function v_(e,t){return e==null?e:{type:e.type,values:e.values}}function g_(e,t){return e==null?e:{type:e.type,value:e.value}}function b_(e){return w_(e)}function w_(e,t){if(e==null)return e;switch(e.type){case"Bool":return{...Nm(e),type:"Bool"};case"BoolArray":return{...Im(e),type:"BoolArray"};case"Decimal":return{...jm(e),type:"Decimal"};case"DecimalArray":return{...qm(e),type:"DecimalArray"};case"GlobalAddress":return{...Zm(e),type:"GlobalAddress"};case"GlobalAddressArray":return{...Dm(e),type:"GlobalAddressArray"};case"I32":return{...Fm(e),type:"I32"};case"I32Array":return{...Lm(e),type:"I32Array"};case"I64":return{...Um(e),type:"I64"};case"I64Array":return{...Mm(e),type:"I64Array"};case"Instant":return{...Vm(e),type:"Instant"};case"InstantArray":return{...zm(e),type:"InstantArray"};case"NonFungibleGlobalId":return{...Km(e),type:"NonFungibleGlobalId"};case"NonFungibleGlobalIdArray":return{...Wm(e),type:"NonFungibleGlobalIdArray"};case"NonFungibleLocalId":return{...Hm(e),type:"NonFungibleLocalId"};case"NonFungibleLocalIdArray":return{...Gm(e),type:"NonFungibleLocalIdArray"};case"Origin":return{...Ym(e),type:"Origin"};case"OriginArray":return{...Jm(e),type:"OriginArray"};case"PublicKey":return{...c_(e),type:"PublicKey"};case"PublicKeyArray":return{...r_(e),type:"PublicKeyArray"};case"PublicKeyHash":return{...u_(e),type:"PublicKeyHash"};case"PublicKeyHashArray":return{...o_(e),type:"PublicKeyHashArray"};case"String":return{...d_(e),type:"String"};case"StringArray":return{...l_(e),type:"StringArray"};case"U32":return{...f_(e),type:"U32"};case"U32Array":return{...p_(e),type:"U32Array"};case"U64":return{...m_(e),type:"U64"};case"U64Array":return{...h_(e),type:"U64Array"};case"U8":return{...y_(e),type:"U8"};case"U8Array":return{...__(e),type:"U8Array"};case"Url":return{...g_(e),type:"Url"};case"UrlArray":return{...v_(e),type:"UrlArray"};default:throw new Error(`No variant of MetadataTypedValue exists with 'type=${e.type}'`)}}function x_(e){return k_(e)}function k_(e,t){return e==null?e:{raw_hex:e.raw_hex,programmatic_json:e.programmatic_json,typed:b_(e.typed)}}function yc(e){return S_(e)}function S_(e,t){return e==null?e:{key:e.key,value:x_(e.value),is_locked:e.is_locked,last_updated_at_state_version:e.last_updated_at_state_version}}function on(e){return T_(e)}function T_(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(yc)}}function E_(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:v(e,"explicit_metadata")?on(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function vc(e){return O_(e)}function O_(e,t){return e==null?e:{vault_address:e.vault_address,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function P_(e){return C_(e)}function C_(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(vc)}}function R_(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:v(e,"explicit_metadata")?on(e.explicit_metadata):void 0,vaults:P_(e.vaults)}}function gc(e){return A_(e)}function A_(e,t){if(e==null)return e;switch(e.aggregation_level){case"Global":return{...E_(e),aggregation_level:"Global"};case"Vault":return{...R_(e),aggregation_level:"Vault"};default:throw new Error(`No variant of FungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}function I_(e){return N_(e)}function N_(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(gc)}}const q_={Global:"Global",Vault:"Vault"};function j_(e){return D_(e)}function D_(e,t){return e==null?e:{release_version:e.release_version,open_api_schema_version:e.open_api_schema_version,image_tag:e.image_tag}}function me(e){return Z_(e)}function Z_(e,t){return e==null?e:{network:e.network,state_version:e.state_version,proposer_round_timestamp:e.proposer_round_timestamp,epoch:e.epoch,round:e.round}}function L_(e){return F_(e)}function F_(e,t){return e==null?e:{ledger_state:me(e.ledger_state),release_info:j_(e.release_info)}}function M_(e){return U_(e)}function U_(e,t){return e==null?e:{xrd:e.xrd,secp256k1_signature_virtual_badge:e.secp256k1_signature_virtual_badge,ed25519_signature_virtual_badge:e.ed25519_signature_virtual_badge,package_of_direct_caller_virtual_badge:e.package_of_direct_caller_virtual_badge,global_caller_virtual_badge:e.global_caller_virtual_badge,system_transaction_badge:e.system_transaction_badge,package_owner_badge:e.package_owner_badge,validator_owner_badge:e.validator_owner_badge,account_owner_badge:e.account_owner_badge,identity_owner_badge:e.identity_owner_badge,package_package:e.package_package,resource_package:e.resource_package,account_package:e.account_package,identity_package:e.identity_package,consensus_manager_package:e.consensus_manager_package,access_controller_package:e.access_controller_package,transaction_processor_package:e.transaction_processor_package,metadata_module_package:e.metadata_module_package,royalty_module_package:e.royalty_module_package,access_rules_package:e.access_rules_package,genesis_helper_package:e.genesis_helper_package,faucet_package:e.faucet_package,consensus_manager:e.consensus_manager,genesis_helper:e.genesis_helper,faucet:e.faucet,pool_package:e.pool_package}}function z_(e){return V_(e)}function V_(e,t){return e==null?e:{network_id:e.network_id,network_name:e.network_name,well_known_addresses:M_(e.well_known_addresses)}}function bc(e){return $_(e)}function $_(e,t){return e}function B_(e){return W_(e)}function W_(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items}}function K_(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:v(e,"explicit_metadata")?on(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function wc(e){return G_(e)}function G_(e,t){return e==null?e:{total_count:e.total_count,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:v(e,"items")?e.items:void 0,vault_address:e.vault_address,last_updated_at_state_version:e.last_updated_at_state_version}}function H_(e){return J_(e)}function J_(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(wc)}}function Y_(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:v(e,"explicit_metadata")?on(e.explicit_metadata):void 0,vaults:H_(e.vaults)}}function xc(e){return X_(e)}function X_(e,t){if(e==null)return e;switch(e.aggregation_level){case"Global":return{...K_(e),aggregation_level:"Global"};case"Vault":return{...Y_(e),aggregation_level:"Vault"};default:throw new Error(`No variant of NonFungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}function Q_(e){return ey(e)}function ey(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(xc)}}function ty(e){return ny(e)}function ny(e,t){return e}function ys(e){return ry(e)}function ry(e,t){return e==null?e:{raw_hex:e.raw_hex,programmatic_json:e.programmatic_json}}function ay(e){if(e!==void 0)return e===null?null:{ancestor_identities:e.ancestor_identities,component_royalty_vault_balance:e.component_royalty_vault_balance,package_royalty_vault_balance:e.package_royalty_vault_balance,non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function sy(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),opt_ins:ay(e.opt_ins),addresses:e.addresses,aggregation_level:e.aggregation_level}}function iy(e){return oy(e)}function oy(e,t){return e==null?e:{parent_address:v(e,"parent_address")?e.parent_address:void 0,owner_address:v(e,"owner_address")?e.owner_address:void 0,global_address:v(e,"global_address")?e.global_address:void 0}}function uy(e,t){return e==null?e:{type:e.type,package_address:v(e,"package_address")?e.package_address:void 0,blueprint_name:e.blueprint_name,blueprint_version:e.blueprint_version,state:v(e,"state")?e.state:void 0,role_assignments:v(e,"role_assignments")?$s(e.role_assignments):void 0,royalty_vault_balance:v(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0}}function cy(e,t){return e==null?e:{type:e.type,role_assignments:$s(e.role_assignments),divisibility:e.divisibility,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function ly(e,t){return e==null?e:{type:e.type}}function dy(e,t){return e==null?e:{type:e.type,role_assignments:$s(e.role_assignments),non_fungible_id_type:bc(e.non_fungible_id_type),total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function py(e,t){return e==null?e:{type:e.type}}function fy(e){return hy(e)}function hy(e,t){return e==null?e:{name:e.name,version:e.version,definition:e.definition,dependant_entities:v(e,"dependant_entities")?e.dependant_entities:void 0,auth_template:v(e,"auth_template")?e.auth_template:void 0,auth_template_is_locked:v(e,"auth_template_is_locked")?e.auth_template_is_locked:void 0,royalty_config:v(e,"royalty_config")?e.royalty_config:void 0,royalty_config_is_locked:v(e,"royalty_config_is_locked")?e.royalty_config_is_locked:void 0}}function my(e){return _y(e)}function _y(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(fy)}}function yy(e){return vy(e)}function vy(e,t){return e==null?e:{schema_hash_hex:e.schema_hash_hex,schema_hex:e.schema_hex}}function gy(e){return by(e)}function by(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(yy)}}function wy(e,t){return e==null?e:{type:e.type,vm_type:ty(e.vm_type),code_hash_hex:e.code_hash_hex,code_hex:e.code_hex,royalty_vault_balance:v(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,blueprints:v(e,"blueprints")?my(e.blueprints):void 0,schemas:v(e,"schemas")?gy(e.schemas):void 0}}function xy(e){return ky(e)}function ky(e,t){if(e==null)return e;switch(e.type){case"Component":return{...uy(e),type:"Component"};case"FungibleResource":return{...cy(e),type:"FungibleResource"};case"FungibleVault":return{...ly(e),type:"FungibleVault"};case"NonFungibleResource":return{...dy(e),type:"NonFungibleResource"};case"NonFungibleVault":return{...py(e),type:"NonFungibleVault"};case"Package":return{...wy(e),type:"Package"};default:throw new Error(`No variant of StateEntityDetailsResponseItemDetails exists with 'type=${e.type}'`)}}function Sy(e){return Ty(e)}function Ty(e,t){return e==null?e:{address:e.address,fungible_resources:v(e,"fungible_resources")?I_(e.fungible_resources):void 0,non_fungible_resources:v(e,"non_fungible_resources")?Q_(e.non_fungible_resources):void 0,ancestor_identities:v(e,"ancestor_identities")?iy(e.ancestor_identities):void 0,metadata:on(e.metadata),explicit_metadata:v(e,"explicit_metadata")?on(e.explicit_metadata):void 0,details:v(e,"details")?xy(e.details):void 0}}function Ey(e){return Oy(e)}function Oy(e,t){return e==null?e:{ledger_state:me(e.ledger_state),items:e.items.map(Sy)}}function Py(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address}}function Cy(e){return Ry(e)}function Ry(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(vc),address:e.address,resource_address:e.resource_address}}function Ay(e){if(e!==void 0)return e===null?null:{explicit_metadata:e.explicit_metadata}}function Iy(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:Ay(e.opt_ins)}}function Ny(e){return qy(e)}function qy(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(gc),address:e.address}}function jy(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}function Dy(e){return Zy(e)}function Zy(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(yc),address:e.address}}function Ly(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,vault_address:e.vault_address,resource_address:e.resource_address}}function Fy(e){return My(e)}function My(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items,address:e.address,resource_address:e.resource_address}}function Uy(e){if(e!==void 0)return e===null?null:{non_fungible_include_nfids:e.non_fungible_include_nfids}}function zy(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address,opt_ins:Uy(e.opt_ins)}}function Vy(e){return $y(e)}function $y(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(wc),address:e.address,resource_address:e.resource_address}}function By(e){if(e!==void 0)return e===null?null:{non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function Wy(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:By(e.opt_ins)}}function Ky(e){return Gy(e)}function Gy(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(xc),address:e.address}}function Hy(e){if(e!==void 0)return e===null?null:{key_hex:e.key_hex,key_json:e.key_json}}function Jy(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),key_value_store_address:e.key_value_store_address,keys:e.keys.map(Hy)}}function Yy(e){return Xy(e)}function Xy(e,t){return e==null?e:{key:ys(e.key),value:ys(e.value),last_updated_at_state_version:e.last_updated_at_state_version,is_locked:e.is_locked}}function Qy(e){return ev(e)}function ev(e,t){return e==null?e:{ledger_state:me(e.ledger_state),key_value_store_address:e.key_value_store_address,entries:e.entries.map(Yy)}}function tv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function nv(e){return rv(e)}function rv(e,t){return e==null?e:{is_burned:e.is_burned,non_fungible_id:e.non_fungible_id,data:v(e,"data")?ys(e.data):void 0,last_updated_at_state_version:e.last_updated_at_state_version}}function av(e){return sv(e)}function sv(e,t){return e==null?e:{ledger_state:me(e.ledger_state),resource_address:e.resource_address,non_fungible_id_type:bc(e.non_fungible_id_type),non_fungible_ids:e.non_fungible_ids.map(nv)}}function iv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,resource_address:e.resource_address}}function ov(e){return uv(e)}function uv(e,t){return e==null?e:{ledger_state:me(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:B_(e.non_fungible_ids)}}function cv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function lv(e){return dv(e)}function dv(e,t){return e==null?e:{non_fungible_id:e.non_fungible_id,owning_vault_address:v(e,"owning_vault_address")?e.owning_vault_address:void 0,is_burned:e.is_burned,last_updated_at_state_version:e.last_updated_at_state_version}}function pv(e){return fv(e)}function fv(e,t){return e==null?e:{ledger_state:me(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids.map(lv)}}function hv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor}}function mv(e){return _v(e)}function _v(e,t){return e==null?e:{stake:e.stake,stake_percentage:e.stake_percentage,key:Bs(e.key)}}function _r(e){return yv(e)}function yv(e,t){return e==null?e:{balance:e.balance,last_changed_at_state_version:e.last_changed_at_state_version,address:e.address}}function vv(e){return gv(e)}function gv(e,t){return e==null?e:{address:e.address,stake_vault:_r(e.stake_vault),pending_xrd_withdraw_vault:_r(e.pending_xrd_withdraw_vault),locked_owner_stake_unit_vault:_r(e.locked_owner_stake_unit_vault),pending_owner_stake_unit_unlock_vault:_r(e.pending_owner_stake_unit_unlock_vault),state:v(e,"state")?e.state:void 0,active_in_epoch:v(e,"active_in_epoch")?mv(e.active_in_epoch):void 0,metadata:on(e.metadata)}}function bv(e){return wv(e)}function wv(e,t){return e==null?e:{total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(vv)}}function xv(e){return kv(e)}function kv(e,t){return e==null?e:{ledger_state:me(e.ledger_state),validators:bv(e.validators)}}function Sv(e){if(e!==void 0)return e===null?null:{event:e.event,emitter_address:e.emitter_address,resource_address:e.resource_address,quantity:e.quantity}}function kc(e){if(e!==void 0)return e===null?null:{raw_hex:e.raw_hex,receipt_state_changes:e.receipt_state_changes,receipt_fee_summary:e.receipt_fee_summary,receipt_fee_source:e.receipt_fee_source,receipt_fee_destination:e.receipt_fee_destination,receipt_costing_parameters:e.receipt_costing_parameters,receipt_events:e.receipt_events,affected_global_entities:e.affected_global_entities}}function Tv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,from_ledger_state:ve(e.from_ledger_state),kind_filter:e.kind_filter,manifest_accounts_withdrawn_from_filter:e.manifest_accounts_withdrawn_from_filter,manifest_accounts_deposited_into_filter:e.manifest_accounts_deposited_into_filter,manifest_resources_filter:e.manifest_resources_filter,affected_global_entities_filter:e.affected_global_entities_filter,events_filter:e.events_filter===void 0?void 0:e.events_filter.map(Sv),order:e.order,opt_ins:kc(e.opt_ins)}}function Ev(e){return Ov(e)}function Ov(e,t){return e==null?e:{ledger_state:me(e.ledger_state),total_count:v(e,"total_count")?e.total_count:void 0,next_cursor:v(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(mc)}}function Pv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),intent_hash:e.intent_hash,opt_ins:kc(e.opt_ins)}}function Cv(e){return Rv(e)}function Rv(e,t){return e==null?e:{ledger_state:me(e.ledger_state),transaction:mc(e.transaction)}}function Av(e){return Iv(e)}function Iv(e,t){return e==null?e:{ledger_state:me(e.ledger_state)}}function Nv(e){return qv(e)}function qv(e,t){return e}function jv(e){return Dv(e)}function Dv(e,t){return e}function Zv(e){return Lv(e)}function Lv(e,t){return e}function Fv(e){if(e!==void 0)return e===null?null:{use_free_credit:e.use_free_credit,assume_all_signature_proofs:e.assume_all_signature_proofs,skip_epoch_check:e.skip_epoch_check}}function Mv(e){if(e!==void 0)return e===null?null:{manifest:e.manifest,blobs_hex:e.blobs_hex,start_epoch_inclusive:e.start_epoch_inclusive,end_epoch_exclusive:e.end_epoch_exclusive,notary_public_key:Ao(e.notary_public_key),notary_is_signatory:e.notary_is_signatory,tip_percentage:e.tip_percentage,nonce:e.nonce,signer_public_keys:e.signer_public_keys.map(Ao),flags:Fv(e.flags)}}function Uv(e){return zv(e)}function zv(e,t){return e==null?e:{level:e.level,message:e.message}}function Vv(e){return $v(e)}function $v(e,t){return e==null?e:{encoded_receipt:e.encoded_receipt,receipt:e.receipt,resource_changes:e.resource_changes,logs:e.logs.map(Uv)}}function Bv(e){if(e!==void 0)return e===null?null:{intent_hash:e.intent_hash}}function Wv(e){return Kv(e)}function Kv(e,t){return e==null?e:{payload_hash:e.payload_hash,status:Vs(e.status),payload_status:v(e,"payload_status")?Zv(e.payload_status):void 0,payload_status_description:v(e,"payload_status_description")?e.payload_status_description:void 0,error_message:v(e,"error_message")?e.error_message:void 0,latest_error_message:v(e,"latest_error_message")?e.latest_error_message:void 0,handling_status:v(e,"handling_status")?jv(e.handling_status):void 0,handling_status_reason:v(e,"handling_status_reason")?e.handling_status_reason:void 0,submission_error:v(e,"submission_error")?e.submission_error:void 0}}function Gv(e){return Hv(e)}function Hv(e,t){return e==null?e:{ledger_state:me(e.ledger_state),status:Vs(e.status),intent_status:Nv(e.intent_status),intent_status_description:e.intent_status_description,known_payloads:e.known_payloads.map(Wv),committed_state_version:v(e,"committed_state_version")?e.committed_state_version:void 0,error_message:v(e,"error_message")?e.error_message:void 0}}function Jv(e){if(e!==void 0)return e===null?null:{notarized_transaction_hex:e.notarized_transaction_hex}}function Yv(e){return Xv(e)}function Xv(e,t){return e==null?e:{duplicate:e.duplicate}}function Qv(e){return eg(e)}function eg(e,t){return e==null?e:{address:e.address,proposals_made:v(e,"proposals_made")?e.proposals_made:void 0,proposals_missed:v(e,"proposals_missed")?e.proposals_missed:void 0,epochs_active_in:e.epochs_active_in}}function tg(e){return ng(e)}function ng(e,t){return e==null?e:{items:e.items.map(Qv)}}function rg(e){if(e!==void 0)return e===null?null:{at_ledger_state:ve(e.at_ledger_state),from_ledger_state:ve(e.from_ledger_state),validator_addresses:e.validator_addresses}}function ag(e){return sg(e)}function sg(e,t){return e==null?e:{ledger_state:me(e.ledger_state),validators:tg(e.validators)}}class ig extends nr{async entityFungibleResourceVaultPageRaw(t,n){if(t.stateEntityFungibleResourceVaultsPageRequest===null||t.stateEntityFungibleResourceVaultsPageRequest===void 0)throw new fe("stateEntityFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityFungibleResourceVaultsPageRequest was null or undefined when calling entityFungibleResourceVaultPage.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/page/fungible-vaults/",method:"POST",headers:a,query:r,body:Py(t.stateEntityFungibleResourceVaultsPageRequest)},n);return new oe(s,i=>Cy(i))}async entityFungibleResourceVaultPage(t,n){return await(await this.entityFungibleResourceVaultPageRaw(t,n)).value()}async entityFungiblesPageRaw(t,n){if(t.stateEntityFungiblesPageRequest===null||t.stateEntityFungiblesPageRequest===void 0)throw new fe("stateEntityFungiblesPageRequest","Required parameter requestParameters.stateEntityFungiblesPageRequest was null or undefined when calling entityFungiblesPage.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/page/fungibles/",method:"POST",headers:a,query:r,body:Iy(t.stateEntityFungiblesPageRequest)},n);return new oe(s,i=>Ny(i))}async entityFungiblesPage(t,n){return await(await this.entityFungiblesPageRaw(t,n)).value()}async entityMetadataPageRaw(t,n){if(t.stateEntityMetadataPageRequest===null||t.stateEntityMetadataPageRequest===void 0)throw new fe("stateEntityMetadataPageRequest","Required parameter requestParameters.stateEntityMetadataPageRequest was null or undefined when calling entityMetadataPage.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/page/metadata",method:"POST",headers:a,query:r,body:jy(t.stateEntityMetadataPageRequest)},n);return new oe(s,i=>Dy(i))}async entityMetadataPage(t,n){return await(await this.entityMetadataPageRaw(t,n)).value()}async entityNonFungibleIdsPageRaw(t,n){if(t.stateEntityNonFungibleIdsPageRequest===null||t.stateEntityNonFungibleIdsPageRequest===void 0)throw new fe("stateEntityNonFungibleIdsPageRequest","Required parameter requestParameters.stateEntityNonFungibleIdsPageRequest was null or undefined when calling entityNonFungibleIdsPage.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/page/non-fungible-vault/ids",method:"POST",headers:a,query:r,body:Ly(t.stateEntityNonFungibleIdsPageRequest)},n);return new oe(s,i=>Fy(i))}async entityNonFungibleIdsPage(t,n){return await(await this.entityNonFungibleIdsPageRaw(t,n)).value()}async entityNonFungibleResourceVaultPageRaw(t,n){if(t.stateEntityNonFungibleResourceVaultsPageRequest===null||t.stateEntityNonFungibleResourceVaultsPageRequest===void 0)throw new fe("stateEntityNonFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityNonFungibleResourceVaultsPageRequest was null or undefined when calling entityNonFungibleResourceVaultPage.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/page/non-fungible-vaults/",method:"POST",headers:a,query:r,body:zy(t.stateEntityNonFungibleResourceVaultsPageRequest)},n);return new oe(s,i=>Vy(i))}async entityNonFungibleResourceVaultPage(t,n){return await(await this.entityNonFungibleResourceVaultPageRaw(t,n)).value()}async entityNonFungiblesPageRaw(t,n){if(t.stateEntityNonFungiblesPageRequest===null||t.stateEntityNonFungiblesPageRequest===void 0)throw new fe("stateEntityNonFungiblesPageRequest","Required parameter requestParameters.stateEntityNonFungiblesPageRequest was null or undefined when calling entityNonFungiblesPage.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/page/non-fungibles/",method:"POST",headers:a,query:r,body:Wy(t.stateEntityNonFungiblesPageRequest)},n);return new oe(s,i=>Ky(i))}async entityNonFungiblesPage(t,n){return await(await this.entityNonFungiblesPageRaw(t,n)).value()}async keyValueStoreDataRaw(t,n){if(t.stateKeyValueStoreDataRequest===null||t.stateKeyValueStoreDataRequest===void 0)throw new fe("stateKeyValueStoreDataRequest","Required parameter requestParameters.stateKeyValueStoreDataRequest was null or undefined when calling keyValueStoreData.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/key-value-store/data",method:"POST",headers:a,query:r,body:Jy(t.stateKeyValueStoreDataRequest)},n);return new oe(s,i=>Qy(i))}async keyValueStoreData(t,n){return await(await this.keyValueStoreDataRaw(t,n)).value()}async nonFungibleDataRaw(t,n){if(t.stateNonFungibleDataRequest===null||t.stateNonFungibleDataRequest===void 0)throw new fe("stateNonFungibleDataRequest","Required parameter requestParameters.stateNonFungibleDataRequest was null or undefined when calling nonFungibleData.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/non-fungible/data",method:"POST",headers:a,query:r,body:tv(t.stateNonFungibleDataRequest)},n);return new oe(s,i=>av(i))}async nonFungibleData(t,n){return await(await this.nonFungibleDataRaw(t,n)).value()}async nonFungibleIdsRaw(t,n){if(t.stateNonFungibleIdsRequest===null||t.stateNonFungibleIdsRequest===void 0)throw new fe("stateNonFungibleIdsRequest","Required parameter requestParameters.stateNonFungibleIdsRequest was null or undefined when calling nonFungibleIds.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/non-fungible/ids",method:"POST",headers:a,query:r,body:iv(t.stateNonFungibleIdsRequest)},n);return new oe(s,i=>ov(i))}async nonFungibleIds(t,n){return await(await this.nonFungibleIdsRaw(t,n)).value()}async nonFungibleLocationRaw(t,n){if(t.stateNonFungibleLocationRequest===null||t.stateNonFungibleLocationRequest===void 0)throw new fe("stateNonFungibleLocationRequest","Required parameter requestParameters.stateNonFungibleLocationRequest was null or undefined when calling nonFungibleLocation.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/non-fungible/location",method:"POST",headers:a,query:r,body:cv(t.stateNonFungibleLocationRequest)},n);return new oe(s,i=>pv(i))}async nonFungibleLocation(t,n){return await(await this.nonFungibleLocationRaw(t,n)).value()}async stateEntityDetailsRaw(t,n){if(t.stateEntityDetailsRequest===null||t.stateEntityDetailsRequest===void 0)throw new fe("stateEntityDetailsRequest","Required parameter requestParameters.stateEntityDetailsRequest was null or undefined when calling stateEntityDetails.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/entity/details",method:"POST",headers:a,query:r,body:sy(t.stateEntityDetailsRequest)},n);return new oe(s,i=>Ey(i))}async stateEntityDetails(t,n){return await(await this.stateEntityDetailsRaw(t,n)).value()}async stateValidatorsListRaw(t,n){if(t.stateValidatorsListRequest===null||t.stateValidatorsListRequest===void 0)throw new fe("stateValidatorsListRequest","Required parameter requestParameters.stateValidatorsListRequest was null or undefined when calling stateValidatorsList.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/state/validators/list",method:"POST",headers:a,query:r,body:hv(t.stateValidatorsListRequest)},n);return new oe(s,i=>xv(i))}async stateValidatorsList(t,n){return await(await this.stateValidatorsListRaw(t,n)).value()}}class og extends nr{async validatorsUptimeRaw(t,n){if(t.validatorsUptimeRequest===null||t.validatorsUptimeRequest===void 0)throw new fe("validatorsUptimeRequest","Required parameter requestParameters.validatorsUptimeRequest was null or undefined when calling validatorsUptime.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/statistics/validators/uptime",method:"POST",headers:a,query:r,body:rg(t.validatorsUptimeRequest)},n);return new oe(s,i=>ag(i))}async validatorsUptime(t,n){return await(await this.validatorsUptimeRaw(t,n)).value()}}class ug extends nr{async gatewayStatusRaw(t){const n={},r={},a=await this.request({path:"/status/gateway-status",method:"POST",headers:r,query:n},t);return new oe(a,s=>L_(s))}async gatewayStatus(t){return await(await this.gatewayStatusRaw(t)).value()}async networkConfigurationRaw(t){const n={},r={},a=await this.request({path:"/status/network-configuration",method:"POST",headers:r,query:n},t);return new oe(a,s=>z_(s))}async networkConfiguration(t){return await(await this.networkConfigurationRaw(t)).value()}}class cg extends nr{async streamTransactionsRaw(t,n){if(t.streamTransactionsRequest===null||t.streamTransactionsRequest===void 0)throw new fe("streamTransactionsRequest","Required parameter requestParameters.streamTransactionsRequest was null or undefined when calling streamTransactions.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/stream/transactions",method:"POST",headers:a,query:r,body:Tv(t.streamTransactionsRequest)},n);return new oe(s,i=>Ev(i))}async streamTransactions(t,n){return await(await this.streamTransactionsRaw(t,n)).value()}}class lg extends nr{async transactionCommittedDetailsRaw(t,n){if(t.transactionCommittedDetailsRequest===null||t.transactionCommittedDetailsRequest===void 0)throw new fe("transactionCommittedDetailsRequest","Required parameter requestParameters.transactionCommittedDetailsRequest was null or undefined when calling transactionCommittedDetails.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/transaction/committed-details",method:"POST",headers:a,query:r,body:Pv(t.transactionCommittedDetailsRequest)},n);return new oe(s,i=>Cv(i))}async transactionCommittedDetails(t,n){return await(await this.transactionCommittedDetailsRaw(t,n)).value()}async transactionConstructionRaw(t){const n={},r={},a=await this.request({path:"/transaction/construction",method:"POST",headers:r,query:n},t);return new oe(a,s=>Av(s))}async transactionConstruction(t){return await(await this.transactionConstructionRaw(t)).value()}async transactionPreviewRaw(t,n){if(t.transactionPreviewRequest===null||t.transactionPreviewRequest===void 0)throw new fe("transactionPreviewRequest","Required parameter requestParameters.transactionPreviewRequest was null or undefined when calling transactionPreview.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/transaction/preview",method:"POST",headers:a,query:r,body:Mv(t.transactionPreviewRequest)},n);return new oe(s,i=>Vv(i))}async transactionPreview(t,n){return await(await this.transactionPreviewRaw(t,n)).value()}async transactionStatusRaw(t,n){if(t.transactionStatusRequest===null||t.transactionStatusRequest===void 0)throw new fe("transactionStatusRequest","Required parameter requestParameters.transactionStatusRequest was null or undefined when calling transactionStatus.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/transaction/status",method:"POST",headers:a,query:r,body:Bv(t.transactionStatusRequest)},n);return new oe(s,i=>Gv(i))}async transactionStatus(t,n){return await(await this.transactionStatusRaw(t,n)).value()}async transactionSubmitRaw(t,n){if(t.transactionSubmitRequest===null||t.transactionSubmitRequest===void 0)throw new fe("transactionSubmitRequest","Required parameter requestParameters.transactionSubmitRequest was null or undefined when calling transactionSubmit.");const r={},a={};a["Content-Type"]="application/json";const s=await this.request({path:"/transaction/submit",method:"POST",headers:a,query:r,body:Jv(t.transactionSubmitRequest)},n);return new oe(s,i=>Yv(i))}async transactionSubmit(t,n){return await(await this.transactionSubmitRaw(t,n)).value()}}const xr=(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r+=t)n.push(e.slice(r,r+t));return n},Io=async(e,t)=>{let n=t;const r=[];do{const a=await e(n);r.push(...a.items),n=a.next_cursor}while(n);return r},No=async(e,t)=>{let n=t;const r=[];let a;do{const s=await e(n);a=s.ledger_state,r.push(...s.items),n=s.next_cursor}while(n);return{aggregatedEntities:r,ledger_state:a}};class dg{constructor(t,n){this.innerClient=t,this.configuration=n}async getEntityDetailsVaultAggregated(t,n,r){var a,s,i,o,c;const u=Array.isArray(t);if(u&&t.length===0)return Promise.resolve([]);if(u&&t.length>this.configuration.maxAddressesCount){const h=xr(t,this.configuration.maxAddressesCount);return Promise.all(h.map(g=>this.getEntityDetailsVaultAggregated(g,n,r))).then(g=>g.flat())}const{items:d,ledger_state:f}=await this.innerClient.stateEntityDetails({stateEntityDetailsRequest:{addresses:u?t:[t],aggregation_level:q_.Vault,opt_ins:{ancestor_identities:(a=n==null?void 0:n.ancestorIdentities)!=null?a:!1,component_royalty_vault_balance:(s=n==null?void 0:n.componentRoyaltyVaultBalance)!=null?s:!1,package_royalty_vault_balance:(i=n==null?void 0:n.packageRoyaltyVaultBalance)!=null?i:!1,non_fungible_include_nfids:(o=n==null?void 0:n.nonFungibleIncludeNfids)!=null?o:!0,explicit_metadata:(c=n==null?void 0:n.explicitMetadata)!=null?c:[]},at_ledger_state:r}});return u?Promise.all(d.map(h=>this.queryAllFungibles(h,r||{state_version:f.state_version}))):this.queryAllFungibles(d[0],r||{state_version:f.state_version})}async getEntityMetadata(t,n){return this.innerClient.entityMetadataPage({stateEntityMetadataPageRequest:{address:t,cursor:n}})}async getNonFungibleLocation(t,n){if(n.length>this.configuration.maxNftIdsCount){const r=xr(n,this.configuration.maxNftIdsCount);return Promise.all(r.map(a=>this.getNonFungibleLocation(t,a))).then(a=>a.flat())}return this.innerClient.nonFungibleLocation({stateNonFungibleLocationRequest:{resource_address:t,non_fungible_ids:n}}).then(r=>r.non_fungible_ids)}async getAllEntityMetadata(t,n){return Io(this.getEntityMetadata.bind(this,t),n)}async getValidators(t){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:t||null}}).then(({validators:n})=>n)}async getAllValidators(t){return Io(this.getValidators.bind(this),t)}async getValidatorsWithLedgerState(t){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:t||null}})}async getAllValidatorsWithLedgerState(t){return No(n=>this.getValidatorsWithLedgerState(n).then(r=>({items:r.validators.items,ledger_state:r.ledger_state})),t)}async getNonFungibleIds(t,n,r){return this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:t,cursor:r,at_ledger_state:n}}).then(({non_fungible_ids:a})=>a)}async getAllNonFungibleIds(t,n,r){let a=r,s=n;const i=[];do{const o=await this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:t,cursor:s,at_ledger_state:a}});i.push(...o.non_fungible_ids.items),a=a||{state_version:o.ledger_state.state_version},s=o.non_fungible_ids.next_cursor}while(s);return i}async getNonFungibleData(t,n,r){const a=Array.isArray(n);if(a&&n.length===0)return Promise.resolve([]);if(a&&n.length>this.configuration.maxNftIdsCount){const i=xr(n,this.configuration.maxNftIdsCount);return Promise.all(i.map(o=>this.getNonFungibleData(t,o,r))).then(o=>o.flat())}const{non_fungible_ids:s}=await this.innerClient.nonFungibleData({stateNonFungibleDataRequest:{resource_address:t,non_fungible_ids:a?n:[n],at_ledger_state:r}});return a?s:s[0]}async getEntityFungiblesPageVaultAggregated(t,n,r){return this.innerClient.entityFungiblesPage({stateEntityFungiblesPageRequest:{address:t,cursor:n,aggregation_level:"Vault",at_ledger_state:r}})}async queryAllFungibles(t,n){const r=t.fungible_resources.next_cursor;if(!r)return Promise.resolve(t);const a=await No(s=>this.getEntityFungiblesPageVaultAggregated(t.address,s,n),r);return Promise.resolve({...t,fungible_resources:{items:[...t.fungible_resources.items,...a.aggregatedEntities]}})}}const Ne={Mainnet:1,Stokenet:2,Alphanet:10,Betanet:11,Kisharnet:12,RCnetV1:12,Ansharnet:13,RCnetV2:13,Zabanet:14,RCnetV3:14,Gilganet:32,Enkinet:33,Hammunet:34,Nergalnet:35,Mardunet:36,Dumunet:37,LocalNet:240,InternalTestNet:241,Simulator:242},pg={Mainnet:{networkName:"Mainnet",networkId:Ne.Mainnet,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:Ne.Stokenet,gatewayUrl:"https://babylon-stokenet-gateway.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Kisharnet:{networkName:"Kisharnet",networkId:Ne.Kisharnet,gatewayUrl:"https://kisharnet-gateway.radixdlt.com",dashboardUrl:"https://kisharnet-dashboard.radixdlt.com"},RCnetV1:{networkName:"RCnetV1",networkId:Ne.RCnetV1,gatewayUrl:"https://rcnet.radixdlt.com",dashboardUrl:"https://rcnet-dashboard.radixdlt.com"},Ansharnet:{networkName:"Ansharnet",networkId:Ne.Ansharnet,gatewayUrl:"https://ansharnet-gateway.radixdlt.com",dashboardUrl:"https://ansharnet-dashboard.radixdlt.com"},RCnetV2:{networkName:"RCNetV2",networkId:Ne.RCnetV2,gatewayUrl:"https://ansharnet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v2-dashboard.radixdlt.com"},Zabanet:{networkName:"Zabanet",networkId:Ne.Zabanet,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},RCnetV3:{networkName:"RCNetV3",networkId:Ne.RCnetV3,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},Gilganet:{networkName:"Gilganet",networkId:Ne.Gilganet,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:""},Enkinet:{networkName:"Enkinet",networkId:Ne.Enkinet,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:Ne.Hammunet,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:Ne.Dumunet,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}},qo=Object.values(pg).reduce((e,t)=>(e[t.networkId]=t,e),{});class fg{constructor(t,n){this.innerClient=t,this.configuration=n}getValidatorsUptimeFromTo(t,n,r){if(t.length>this.configuration.maxValidatorsUptimeCount){const a=xr(t,this.configuration.maxValidatorsUptimeCount);return Promise.all(a.map(s=>this.getValidatorsUptimeFromTo(s,n,r))).then(s=>s.flat())}return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:t,from_ledger_state:n!==void 0?n instanceof Date?{timestamp:n}:{state_version:n}:void 0,at_ledger_state:r!==void 0?r instanceof Date?{timestamp:r}:{state_version:r}:void 0}}).then(a=>a.validators.items)}getValidatorsUptime(t){return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:t}})}}class hg{constructor(t){this.innerClient=t}getCurrent(){return this.innerClient.gatewayStatus()}getNetworkConfiguration(){return this.innerClient.networkConfiguration()}}class mg{constructor(t){this.innerClient=t}getTransactionsList(t,n){return this.innerClient.streamTransactions({streamTransactionsRequest:{cursor:n,affected_global_entities_filter:t}})}}class _g{constructor(t){this.innerClient=t}getStatus(t){return this.innerClient.transactionStatus({transactionStatusRequest:{intent_hash:t}})}getCommittedDetails(t,n){var r,a,s,i,o,c,u,d;return this.innerClient.transactionCommittedDetails({transactionCommittedDetailsRequest:{intent_hash:t,opt_ins:{raw_hex:(r=n==null?void 0:n.rawHex)!=null?r:!0,receipt_events:(a=n==null?void 0:n.receiptEvents)!=null?a:!0,receipt_fee_source:(s=n==null?void 0:n.receiptFeeSource)!=null?s:!0,receipt_fee_destination:(i=n==null?void 0:n.receiptFeeDestination)!=null?i:!0,receipt_costing_parameters:(o=n==null?void 0:n.receiptCostingParameters)!=null?o:!0,receipt_fee_summary:(c=n==null?void 0:n.receiptFeeSummary)!=null?c:!0,receipt_state_changes:(u=n==null?void 0:n.receiptStateChanges)!=null?u:!0,affected_global_entities:(d=n==null?void 0:n.affectedGlobalEntities)!=null?d:!0}}})}}const yg=20,vg=29,gg=200,bg="1.1.0";class wg extends pc{constructor(t){super(t),$e(this,"extendedConfiguration"),this.extendedConfiguration=t}get maxAddressesCount(){return this.extendedConfiguration.maxAddressesCount||yg}get maxNftIdsCount(){return this.extendedConfiguration.maxNftIdsCount||vg}get maxValidatorsUptimeCount(){return this.extendedConfiguration.maxValidatorsUptimeCount||gg}}const xg=e=>e?e.endsWith("/")?e==null?void 0:e.slice(0,-1):e:"";class Gr{constructor(t){$e(this,"state"),$e(this,"stream"),$e(this,"status"),$e(this,"transaction"),$e(this,"statistics"),$e(this,"lowLevel"),this.lowLevel={state:new ig(t),stream:new cg(t),status:new ug(t),transaction:new lg(t),statistics:new og(t)},this.state=new dg(this.lowLevel.state,t),this.stream=new mg(this.lowLevel.stream),this.status=new hg(this.lowLevel.status),this.transaction=new _g(this.lowLevel.transaction),this.statistics=new fg(this.lowLevel.statistics,t)}static initialize(t){const n=Gr.constructConfiguration(t);return new Gr(n)}static constructConfiguration(t){var n,r,a,s;const i=xg(t==null?void 0:t.basePath),o=(n=t==null?void 0:t.applicationName)!=null?n:"Unknown";return new wg({...t,basePath:i,applicationName:o,headers:{...(r=t==null?void 0:t.headers)!=null?r:{},"RDX-Client-Name":"@radixdlt/babylon-gateway-api-sdk","RDX-Client-Version":bg,"RDX-App-Name":o,"RDX-App-Version":(a=t.applicationVersion)!=null?a:"Unknown","RDX-App-Dapp-Definition":(s=t.applicationDappDefinitionAddress)!=null?s:"Unknown"}})}}const kg=e=>{const t=e.logger,n=e.requestItemClient,r=e.walletSdk,a=e.gatewayClient,s=new Ee,i=u=>{const d=new Ee;return{eventCallback:f=>{d.next(f)},requestControl:({cancelRequest:f,getRequest:h})=>{ja(d.pipe(ht(g=>g==="receivedByWallet"),Xe(()=>h()),V(g=>{g.items.discriminator==="transaction"&&n.patch(u,{showCancel:!1})}))),ja(Vn(e.onCancelRequestItem$,s).pipe(ht(g=>g===u),pt(()=>(n.cancel(u),n.updateStatus({id:u,status:"fail",error:"userCancelledRequest"}),f()))))}}},o=(u,d)=>r.request(u,i(d)).map(f=>(t==null||t.debug("walletSuccessResponse",f),f)).mapErr(f=>(t==null||t.debug("walletErrorResponse",f),n.updateStatus({id:d,status:"fail",error:f.error}),f)),c=new at;return{request:o,sendTransaction:({onTransactionId:u,...d})=>{const{id:f}=n.add("sendTransaction");return r.sendTransaction({version:1,...d},i(f)).mapErr(h=>(n.updateStatus({id:f,status:"fail",error:h.error}),t==null||t.debug(" walletErrorResponse",h),h)).map(h=>(t==null||t.debug(" walletSuccessResponse",h),h)).andThen(({transactionIntentHash:h})=>(u&&u(h),a.pollTransactionStatus(h).map(g=>({transactionIntentHash:h,status:g.status})))).andThen(h=>{const g=[Co.Rejected,Co.CommittedFailure].includes(h.status);return n.updateStatus({id:f,status:g?"fail":"success",transactionIntentHash:h.transactionIntentHash}),t==null||t.debug(" Gateway polling finished",h),g?Ke({...h,error:"transactionNotSuccessful"}):he(h)})},extensionStatus$:r.extensionStatus$,requestItems$:n.items$,resetRequestItems:n.reset,cancelRequest:u=>s.next(u),destroy:()=>{n.destroy(),r.destroy(),c.unsubscribe()}}},lt=e=>e,Sg=({basePath:e,dAppDefinitionAddress:t,applicationName:n,applicationVersion:r})=>{const{transaction:a,state:s,status:i}=Gr.initialize({basePath:e,applicationName:n||t||"unknown",applicationVersion:r,applicationDappDefinitionAddress:t});return{getTransactionStatus:o=>ce.fromPromise(a.getStatus(o),lt),getTransactionDetails:o=>ce.fromPromise(a.getCommittedDetails(o),lt),getEntityDetails:o=>ce.fromPromise(s.getEntityDetailsVaultAggregated(o),lt),getEntitiesDetails:o=>ce.fromPromise(s.getEntityDetailsVaultAggregated(o),lt),getEntityNonFungibleIds:({accountAddress:o,nftAddress:c,vaultAddress:u})=>ce.fromPromise(s.innerClient.entityNonFungibleIdsPage({stateEntityNonFungibleIdsPageRequest:{address:o,vault_address:u,resource_address:c}}),lt),getNetworkConfiguration:()=>ce.fromPromise(i.getNetworkConfiguration(),lt),transactionApi:a,stateApi:s,statusApi:i}},Tg=({maxDelayTime:e=1e4,multiplier:t=2,timeout:n,interval:r=2e3}={})=>{const a=new Ee;let s=0;const i=Vn(fu(0),a.pipe(Xe(()=>(s=s+1,s)))).pipe(pt(c=>{const u=c*r*t,d=u>e?e:u;return Da(d).pipe(Xe(()=>he(c)))})),o=n?Vn(i,Da(n).pipe(Xe(()=>Ke(Qt("failedToPollSubmittedTransaction",""))))):i;return{trigger:a,withBackoff$:o}},Eg=e=>{var t;const n=(t=e==null?void 0:e.value)==null?void 0:t.typed;return{stringified:n!=null&&n.value?(n==null?void 0:n.value)||"":n==null?void 0:n.values.join(", ")}},Og=({gatewayApi:e,logger:t,retryConfig:n})=>({pollTransactionStatus:r=>{const a=Tg(n),s=new Set(["CommittedSuccess","CommittedFailure","Rejected"]);return ce.fromPromise(ja(a.withBackoff$.pipe(pt(i=>i.isErr()?[i]:(t==null||t.debug(`pollingTxStatus retry #${i.value+1}`),e.getTransactionStatus(r).map(o=>{if(s.has(o.status))return o;a.trigger.next()}).mapErr(o=>(t==null||t.debug(o),Qt("failedToPollSubmittedTransaction",""))))),ht(i=>i.isOk()&&!!i.value||i.isErr()),mu())),i=>i).andThen(i=>i)},gatewayApi:e}),Pg=()=>({initialized:new re(!1),onChange:new Ee,items:new re([])}),Cg=(e,t,n)=>{const r=n.logger,a=new Set,s=new at,i=new Map,o=n.subjects||Pg(),c=`${e}:requestItemStore`;t.getData(c).map(y=>{y&&Object.keys(y).forEach(q=>{a.add(q),i.set(q,y[q])}),o.items.next(N())});const u=(y,q)=>o.onChange.next({oldValue:y,newValue:q}),d=y=>({type:y,status:"pending",timestamp:Date.now(),id:crypto.randomUUID(),showCancel:!0}),f=y=>{const q=d(y);return i.set(q.id,q),a.add(q.id),u(void 0,q),r==null||r.trace("addRequestItem",{id:q.id,status:q.status}),q},h=y=>{if(i.has(y)){const q=i.get(y);i.delete(y),a.delete(y),u(q,void 0),r==null||r.trace("removeRequestItem",y)}},g=(y,q)=>{const X=i.get(y);if(X){const te={...X,...q};i.set(y,te),u(X,te),r==null||r.trace("patchRequestItemStatus",te)}},R=y=>{i.has(y)&&(g(y,{status:"fail",error:Mn.canceledByUser}),r==null||r.trace("cancelRequestItem",y))},_=()=>{i.clear(),a.clear(),u(void 0,void 0),r==null||r.trace("resetRequestItems")},x=({id:y,status:q,error:X,transactionIntentHash:te})=>{const de=i.get(y);if(de){const W={...de,status:q};W.status==="fail"&&(W.error=X),W.status==="success"&&W.type==="sendTransaction"&&(W.transactionIntentHash=te),i.set(y,W),u(de,W),r==null||r.trace("updateRequestItemStatus",W)}},S=()=>[...a].reverse(),N=()=>S().map(y=>({id:y,...i.get(y)})).filter(y=>!!y);return s.add(o.onChange.pipe(Xe(()=>N()),V(y=>o.items.next(y)),V(()=>{const y=Array.from(i.entries());t.setData(c,Object.fromEntries(y.filter(([,q])=>q.status!=="pending")))})).subscribe()),{add:f,remove:h,cancel:R,updateStatus:x,patch:g,reset:_,destroy:()=>{s.unsubscribe()},items$:o.items,change$:o.onChange.asObservable()}},Rg=e=>{try{return he(JSON.parse(e))}catch(t){return Ke(lt(t))}},Ag=()=>{const e=n=>new Promise((r,a)=>{try{const s=localStorage.getItem(n);return r(s||void 0)}catch(s){return a(s)}}),t=(n,r)=>new Promise((a,s)=>{try{return localStorage.setItem(n,JSON.stringify(r)),a()}catch(i){return s(i)}});return{getData:n=>ce.fromPromise(e(n),lt).andThen(r=>r?Rg(r):he(void 0)),setData:(n,r)=>ce.fromPromise(t(n,r),lt)}},Ig=e=>t=>{var n,r,a;let s=[];if(e.discriminator==="authorizedRequest"){const i=((n=e.oneTimeAccounts)==null?void 0:n.accounts)??[],o=((r=e.ongoingAccounts)==null?void 0:r.accounts)??[];s=[...i,...o]}else e.discriminator==="unauthorizedRequest"&&(s=((a=e.oneTimeAccounts)==null?void 0:a.accounts)??[]);return ae(t,i=>{i.accounts=s})},Ca=e=>{const t=[];return e.name&&t.push({entry:"fullName",fields:e.name}),e.emailAddresses&&t.push({entry:"emailAddresses",fields:e.emailAddresses}),e.phoneNumbers&&t.push({entry:"phoneNumbers",fields:e.phoneNumbers}),t},Ng=e=>t=>ae(t,n=>{e.discriminator==="authorizedRequest"?(e.oneTimePersonaData&&(n.personaData=Ca(e.oneTimePersonaData)),e.ongoingPersonaData&&(n.personaData=Ca(e.ongoingPersonaData))):e.discriminator==="unauthorizedRequest"&&e.oneTimePersonaData&&(n.personaData=Ca(e.oneTimePersonaData))}),qg=e=>t=>ae(t,n=>{var r;e.discriminator==="authorizedRequest"&&(n.persona=(r=e.auth)==null?void 0:r.persona)}),jg=e=>t=>ae(t,n=>{var r,a,s,i,o,c;if(n.proofs=[],e.discriminator==="authorizedRequest"){if(e.auth.discriminator==="loginWithChallenge"&&n.proofs.push({challenge:e.auth.challenge,proof:e.auth.proof,address:e.auth.persona.identityAddress,type:yn.persona}),(r=e.ongoingAccounts)!=null&&r.challenge&&(a=e.ongoingAccounts.proofs)!=null&&a.length){const u=e.ongoingAccounts.challenge,d=e.ongoingAccounts.proofs.map(({accountAddress:f,proof:h})=>({proof:h,address:f,challenge:u,type:yn.account}));n.proofs.push(...d)}if((s=e.oneTimeAccounts)!=null&&s.challenge&&(i=e.oneTimeAccounts.proofs)!=null&&i.length){const u=e.oneTimeAccounts.challenge,d=e.oneTimeAccounts.proofs.map(({accountAddress:f,proof:h})=>({proof:h,address:f,challenge:u,type:yn.account}));n.proofs.push(...d)}}if(e.discriminator==="unauthorizedRequest"&&(o=e.oneTimeAccounts)!=null&&o.challenge&&(c=e.oneTimeAccounts.proofs)!=null&&c.length){const u=e.oneTimeAccounts.challenge,d=e.oneTimeAccounts.proofs.map(({accountAddress:f,proof:h})=>({proof:h,address:f,challenge:u,type:yn.account}));n.proofs.push(...d)}}),Dg=e=>he({accounts:[],personaData:[],proofs:[],persona:void 0}).map(Ig(e)).map(Ng(e)).map(qg(e)).map(jg(e));ye({accounts:ye({numberOfAccounts:et,reset:qe(),oneTime:qe(),challenge:We().optional()}).optional(),personaData:ye({fullName:qe().optional(),phoneNumbers:et.optional(),emailAddresses:et.optional(),reset:qe(),oneTime:qe().optional()}).optional(),persona:ye({identityAddress:We().optional(),label:We().optional(),challenge:We().optional()}).optional()});const Zg=e=>{const{persona:t,accounts:n,personaData:r}=e,a=!!t,s=(n==null?void 0:n.reset)||(r==null?void 0:r.reset),i=n&&!(n!=null&&n.oneTime),o=r&&!(r!=null&&r.oneTime);return!!(s||i||o||a)},Lg=e=>{var t,n,r;return(t=e.persona)!=null&&t.challenge?{discriminator:"loginWithChallenge",challenge:e.persona.challenge}:(n=e.persona)!=null&&n.identityAddress?{discriminator:"usePersona",identityAddress:(r=e.persona)==null?void 0:r.identityAddress}:{discriminator:"loginWithoutChallenge"}},Sc=e=>t=>{var n,r;const a={...t},{accounts:s}=e;if(s){const i={challenge:s.challenge,numberOfAccounts:s.numberOfAccounts},o=a.discriminator==="authorizedRequest"&&!((n=e.accounts)!=null&&n.oneTime),c=a.discriminator==="authorizedRequest";(r=e.accounts)!=null&&r.oneTime?a.oneTimeAccounts=i:(o||c)&&(a.ongoingAccounts=i)}return a},Tc=e=>t=>{var n,r;const a={...t};if(e.personaData){const{fullName:s,phoneNumbers:i,emailAddresses:o}=e.personaData;(n=e.personaData)!=null&&n.oneTime&&(a.oneTimePersonaData={isRequestingName:s,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:o});const c=a.discriminator==="authorizedRequest"&&!((r=e.personaData)!=null&&r.oneTime),u=a.discriminator==="authorizedRequest";(c||u)&&(a.ongoingPersonaData={isRequestingName:s,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:o})}return a},Fg=e=>t=>{const{accounts:n,personaData:r}=e;return{...t,reset:{accounts:!!(n!=null&&n.reset),personaData:!!(r!=null&&r.reset)}}},Mg=e=>he({discriminator:"unauthorizedRequest"}).map(Sc(e)).map(Tc(e)),Ug=e=>he({discriminator:"authorizedRequest",auth:Lg(e)}).map(Sc(e)).map(Tc(e)).map(Fg(e)),zg=(e,t)=>he(e?ae(t,n=>{n.accounts&&(n.accounts.oneTime=!1,n.accounts.reset=!1),n.personaData&&(n.personaData.oneTime=!1,n.personaData.reset=!1)}):t),Vg=(e,t)=>zg(e,t).andThen(n=>Zg(n)?Ug(n):Mg(n)),$g=({dataRequestState:e,isConnect:t,challenge:n,oneTime:r,stateClient:a})=>Vg(t,ae({},s=>{var i;if(e.accounts&&(s.accounts={numberOfAccounts:e.accounts.numberOfAccounts||{quantifier:"atLeast",quantity:1},oneTime:r,reset:!!e.accounts.reset,challenge:e.accounts.withProof?n:void 0}),e.personaData&&(s.personaData={...e.personaData,reset:!!e.personaData.reset,oneTime:r}),!r){const o=a.getState().walletData.persona;a.getState().walletData.persona&&(s.persona=o),(i=e.persona)!=null&&i.withProof&&(s.persona={...s.persona??{},challenge:n}),Object.values(e).length===0&&(s.persona={challenge:void 0})}})),Bg=(e,t)=>{var n,r,a,s,i,o,c,u,d,f,h;if(e.discriminator==="authorizedRequest"){const g=((n=e.reset)==null?void 0:n.accounts)||((r=e.reset)==null?void 0:r.personaData),R=!!(e.oneTimeAccounts||e.oneTimePersonaData),_=e.auth.discriminator==="loginWithChallenge"||!!((a=e.oneTimeAccounts)!=null&&a.challenge)||!!((s=e.ongoingAccounts)!=null&&s.challenge);if(g||R||_)return!1;let x=!1;if(e.ongoingAccounts){const{quantifier:S,quantity:N}=e.ongoingAccounts.numberOfAccounts;x=((c=(o=(i=t.sharedData)==null?void 0:i.ongoingAccounts)==null?void 0:o.numberOfAccounts)==null?void 0:c.quantifier)===S&&((f=(d=(u=t.sharedData)==null?void 0:u.ongoingAccounts)==null?void 0:d.numberOfAccounts)==null?void 0:f.quantity)===N}return e.ongoingPersonaData&&(x=_s(e.ongoingPersonaData,(h=t.sharedData)==null?void 0:h.ongoingPersonaData)),x}return!1},Wg=(e,t)=>e.discriminator==="authorizedRequest"?ae({},n=>{n.persona={proof:!1},n.ongoingAccounts={proof:!1,numberOfAccounts:void 0},e.auth.discriminator==="loginWithChallenge"&&(n.persona.proof=!!e.auth.challenge),e.ongoingAccounts&&(n.ongoingAccounts={proof:!!e.ongoingAccounts.challenge,numberOfAccounts:e.ongoingAccounts.numberOfAccounts}),e.ongoingPersonaData&&(n.ongoingPersonaData=e.ongoingPersonaData)}):t,Kg=e=>ae({},t=>{e.ongoingAccounts&&(t.accounts={numberOfAccounts:e.ongoingAccounts.numberOfAccounts,withProof:e.ongoingAccounts.proof,reset:!0}),e.ongoingPersonaData&&(t.personaData={fullName:e.ongoingPersonaData.isRequestingName,phoneNumbers:e.ongoingPersonaData.numberOfRequestedPhoneNumbers,emailAddresses:e.ongoingPersonaData.numberOfRequestedEmailAddresses,reset:!0}),e.persona&&(t.persona={withProof:!!e.persona.proof})}),Gg=({stateClient:e,requestItemClient:t,walletClient:n,useCache:r,dataRequestStateClient:a,requestInterceptor:s})=>{let i,o,c;const u=x=>{var S,N;return((S=x.accounts)==null?void 0:S.withProof)||((N=x.persona)==null?void 0:N.withProof)},d=x=>{if(!u(x))return xo(void 0);if(!i)throw new Error("Expected proof but no challenge generator provided");return i()},f=x=>{i=()=>ce.fromPromise(x(),()=>({error:"GenerateChallengeError",message:"Failed to generate challenge"}))},h=x=>{o=S=>x(S)},g=x=>{c=S=>ce.fromPromise(x(S),()=>({error:"LoginRejectedByDapp",message:"Login rejected by dApp"}))},R=(...x)=>_({dataRequestState:a.toDataRequestState(...x),isConnect:!1,oneTime:!0}),_=({isConnect:x,oneTime:S,dataRequestState:N})=>he(N).asyncAndThen(y=>d(y).andThen(q=>$g({dataRequestState:y,isConnect:x,challenge:q,oneTime:S,stateClient:e}))).andThen(y=>{const q=e.getState();if(Bg(y,q)&&r)return xo(q.walletData);const X=!e.getState().walletData.persona&&y.discriminator==="authorizedRequest";return s({type:"dataRequest",payload:y}).map(te=>{const{id:de}=t.add(X?"loginRequest":"dataRequest");return{walletDataRequest:te,id:de}}).andThen(({walletDataRequest:te,id:de})=>n.request(te,de).mapErr(({error:W,message:Ue})=>({error:W,message:Ue})).andThen(Dg).andThen(W=>c?c(W).map(()=>(t.updateStatus({id:de,status:"success"}),W)).mapErr(Ue=>(t.updateStatus({id:de,status:"fail",error:Ue.error}),Ue)):(t.updateStatus({id:de,status:"success"}),he(W))).map(W=>(S||e.setState({loggedInTimestamp:Date.now().toString(),walletData:W,sharedData:Wg(te,e.getState().sharedData)}),W)))});return{provideChallengeGenerator:f,provideDataRequestControl:g,provideConnectResponseCallback:h,sendOneTimeRequest:R,setState:(...x)=>(a.setState(...x),{sendRequest:()=>_({dataRequestState:a.getState(),isConnect:!1,oneTime:!1})}),sendRequest:({isConnect:x,oneTime:S})=>{const N=_({isConnect:x,oneTime:S,dataRequestState:a.getState()});return o&&N.map(y=>{o(he(y))}).mapErr(y=>{o(Ke(y))}),N},updateSharedData:()=>_({dataRequestState:Kg(e.getState().sharedData),isConnect:!1,oneTime:!1})}},Hg=e=>{var t;const n=e.accounts??[],r=((t=e==null?void 0:e.persona)==null?void 0:t.label)??"",a=!!(e!=null&&e.persona),s=e.personaData.map(i=>{if(i.entry==="fullName"){const{variant:o,givenNames:c,familyName:u,nickname:d}=i.fields;return{value:o==="western"?`${c}${d?` "${d}" `:" "}${u}`:`${u}${d?` "${d}" `:" "}${c}`,field:"fullName"}}else{if(i.entry==="emailAddresses")return{value:i.fields[0],field:"emailAddress"};if(i.entry==="phoneNumbers")return{value:i.fields[0],field:"phoneNumber"}}}).filter(i=>!!i&&!!i.value.trim());return{accounts:n,personaLabel:r,connected:a,personaData:s}},Jg=e=>{const t=new re(e),n=()=>t.next(e),r=i=>t.next(i),a=()=>t.getValue(),s=(...i)=>i.filter(o=>typeof o._toObject=="function").reduce((o,c)=>({...o,...c._toObject()}),{});return{reset:n,setState:(...i)=>{i.length===0?n():r(s(...i))},getState:a,patchState:(...i)=>{i.length!==0&&r({...a(),...s(...i)})},removeState:(...i)=>{r(ae(a(),o=>{i.forEach(c=>{delete o[c]})}))},toDataRequestState:s,state$:t.asObservable()}},Yg=e=>t=>ce.fromPromise(e(t),n=>({error:"requestInterceptorError",jsError:n})),Xg=e=>{const{dAppDefinitionAddress:t,networkId:n,providers:r,logger:a,onDisconnect:s,explorer:i,gatewayBaseUrl:o,applicationName:c,applicationVersion:u,useCache:d=!0,requestInterceptor:f=async({payload:k})=>k}=e||{},h=`rdt:${t}:${n}`,g=new re(t),R=new at,_=(r==null?void 0:r.connectButton)??cm({logger:a});_.setIsMobile(um());const x=(r==null?void 0:r.gatewayClient)??Og({logger:a,gatewayApi:Sg({basePath:o??qo[n].gatewayUrl,dAppDefinitionAddress:t,applicationName:c,applicationVersion:u})}),S=(r==null?void 0:r.storageClient)??Ag(),N=(r==null?void 0:r.walletSdk)??_h({logger:a,networkId:n,dAppDefinitionAddress:t}),y=(r==null?void 0:r.requestItemClient)??Cg(h,S,{logger:a}),q=(r==null?void 0:r.walletClient)??kg({logger:a,onCancelRequestItem$:_.onCancelRequestItem$,walletSdk:N,gatewayClient:x,requestItemClient:y}),X=(r==null?void 0:r.stateClient)??im(h,S,{logger:a}),te=(r==null?void 0:r.dataRequestStateClient)??Jg({}),de=Yg(f),W=(r==null?void 0:r.dataRequestClient)??Gg({stateClient:X,requestItemClient:y,walletClient:q,useCache:d,dataRequestStateClient:te,requestInterceptor:de}),Ue=()=>{y.items$.value.forEach(k=>{k.showCancel&&q.cancelRequest(k.id)}),X.reset(),q.resetRequestItems(),_.disconnect(),s&&s()};R.add(g.pipe(ht(k=>!!k),pt(k=>x.gatewayApi.getEntityDetails(k).map(ue=>Eg(ue==null?void 0:ue.metadata.items.find(Se=>Se.key==="name")).stringified).map(ue=>{_.setDappName(ue??"Unnamed dApp")}))).subscribe()),R.add(q.extensionStatus$.pipe(V(k=>{_.setIsExtensionAvailable(k.isExtensionAvailable),_.setIsWalletLinked(k.isWalletLinked)})).subscribe()),R.add(_.onConnect$.pipe(pt(()=>(X.reset(),W.sendRequest({isConnect:!0,oneTime:!1})))).subscribe()),R.add(_.onLinkClick$.pipe(V(({type:k,data:ue})=>{if(["account","transaction"].includes(k)){const{baseUrl:Se,transactionPath:it,accountsPath:dn}=i??{baseUrl:qo[n].dashboardUrl,transactionPath:"/transaction/",accountsPath:"/account/"};if(!Se||!window)return;const Nn=`${Se}${k==="transaction"?it:dn}${ue}`;window.open(Nn)}else k==="setupGuide"?window.open("https://wallet.radixdlt.com"):k==="showQrCode"&&N.openPopup()})).subscribe()),R.add(_.onShowPopover$.pipe(ga(q.requestItems$),V(([k,ue])=>{ue.filter(Se=>Se.status==="pending").length>0&&_.setActiveTab("requests")})).subscribe()),R.add(_.onDisconnect$.pipe(V(Ue)).subscribe()),R.add(X.state$.pipe(V(k=>{const{personaData:ue,accounts:Se,personaLabel:it,connected:dn}=Hg(k.walletData);_.setLoggedInTimestamp(k.loggedInTimestamp),_.setAccounts(Se),_.setPersonaData(ue),_.setPersonaLabel(it),_.setConnected(dn)})).subscribe()),R.add(q.requestItems$.pipe(V(k=>_.setRequestItems(k))).subscribe()),R.add(y.change$.pipe(ga(y.items$),V(([,k])=>{k.find(ue=>ue.status==="pending")&&_.setStatus("pending")}),Yr(([k])=>{var ue,Se;const it=(ue=k.newValue)==null?void 0:ue.status;return((Se=k.oldValue)==null?void 0:Se.status)==="pending"&&(it==="success"||it==="fail")?(_.setStatus(it==="success"?"success":"error"),Da(2e3).pipe(ga(q.requestItems$),V(([dn,Nn])=>{const aa=Nn.find(sa=>sa.status==="pending");_.setStatus(aa?"pending":"default")}))):fu()})).subscribe()),R.add(Vn(_.onUpdateSharedData$).pipe(pt(()=>W.updateSharedData())).subscribe());const Dt={state:x.gatewayApi.stateApi,status:x.gatewayApi.statusApi,transaction:x.gatewayApi.transactionApi},ln={setRequestData:W.setState,sendRequest:()=>W.sendRequest({isConnect:!1,oneTime:!1}),provideChallengeGenerator:k=>W.provideChallengeGenerator(k),dataRequestControl:k=>{W.provideDataRequestControl(k)},provideConnectResponseCallback:W.provideConnectResponseCallback,updateSharedData:()=>W.updateSharedData(),sendOneTimeRequest:W.sendOneTimeRequest,sendTransaction:k=>de({type:"sendTransaction",payload:k}).andThen(q.sendTransaction),walletData$:X.walletData$,getWalletData:()=>X.getWalletData()},yt={setTheme:_.setTheme,setMode:_.setMode,status$:_.status$};return{walletApi:ln,gatewayApi:Dt,buttonApi:yt,disconnect:Ue,destroy:()=>{X.destroy(),q.destroy(),R.unsubscribe(),_.destroy()}}};ye({numberOfAccounts:et,withProof:qe().optional(),reset:qe().optional()});const Qg=()=>{let e=ae({numberOfAccounts:{quantifier:"atLeast",quantity:1}},()=>{});const t={atLeast:n=>(e=ae(e,r=>{r.numberOfAccounts.quantifier="atLeast",r.numberOfAccounts.quantity=n}),t),exactly:n=>(e=ae(e,r=>{r.numberOfAccounts.quantifier="exactly",r.numberOfAccounts.quantity=n}),t),withProof:(n=!0)=>(e=ae(e,r=>{r.withProof=n}),t),reset:(n=!0)=>(e=ae(e,r=>{r.reset=n}),t),_toObject:()=>({accounts:e})};return t};ye({withProof:qe().optional()});const eb=(e={withProof:!1})=>{let t=ae(e,()=>{});const n={withProof:(r=!0)=>(t=ae(t,a=>{a.withProof=r}),n),_toObject:()=>({persona:t})};return n};ye({fullName:qe(),emailAddresses:et,phoneNumbers:et,reset:qe()}).partial();const tb=(e={})=>{let t=ae(e,()=>{});const n=(s=!0)=>(t=ae(t,i=>{i.fullName=s}),a),r=s=>({atLeast:i=>(t=ae(t,o=>{o[s]={quantifier:"atLeast",quantity:i}}),a),exactly:i=>(t=ae(t,o=>{o[s]={quantifier:"exactly",quantity:i}}),a)}),a={fullName:n,emailAddresses:(s=!0)=>(r("emailAddresses").exactly(s?1:0),a),phoneNumbers:(s=!0)=>(r("phoneNumbers").exactly(s?1:0),a),reset:(s=!0)=>(t=ae(t,i=>{i.reset=s}),a),_toObject:()=>({personaData:t})};return a},nb=e=>({_toObject:()=>({...e})}),rb={accounts:Qg,personaData:tb,persona:eb,config:nb},kb=!1,Sb="https://radixbillboard.com",Tb="https://demo.radixbillboard.com",ab=Number.parseInt("1"),Eb="component_rdx1cpzspxr2ea8xx8wc57acr6s7qm94s0qtkg4ramhw87d7gcn5nxjqf6",sb="account_rdx129vf97vuy4lwcz23gezjhvcflsx5mvfcaqqgy8keunfmfj3kkhhk2f",Ob=230,Pb=130,Cb=29,ib=125,ob=80,Ec=10,Rb=ib*Ec,Ab=ob*Ec,Ib="white-with-outline",ub="dark",Nb="radix-connect-button-id",qb="manage-page-connect-button-container",jb="rbb:",Db=30,Zb=100,Lb=30,Ra=Vo(null),Ws=Xg({dAppDefinitionAddress:sb,networkId:ab,providers:{}});Ws.buttonApi.setMode(ub);Ws.walletApi.setRequestData(rb.accounts().exactly(1));Ws.walletApi.walletData$.subscribe(e=>{var a;const t=(a=Wl(Ra))==null?void 0:a.address,n=e.accounts[0],r=n==null?void 0:n.address;r!==t&&(r?Ra.set({type:"OfficialWallet",...n}):Ra.set(null))});export{Eb as A,Sb as B,Ib as C,Rb as G,kb as I,jb as L,vb as M,ab as N,Pi as S,hb as _,Ti as a,ub as b,ha as c,bb as d,wb as e,Bo as f,zn as g,dr as h,Ab as i,Tb as j,Ra as k,mb as l,Nb as m,xb as n,qb as o,gb as p,Ob as q,Ws as r,Lb as s,Zb as t,Ts as u,Pb as v,_b as w,yb as x,Db as y,Cb as z};
